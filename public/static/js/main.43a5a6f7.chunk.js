(this["webpackJsonpmeasurify-admin-dashboard"]=this["webpackJsonpmeasurify-admin-dashboard"]||[]).push([[0],{187:function(e,t,n){},217:function(e,t,n){},243:function(e,t){},245:function(e,t){},260:function(e,t,n){},261:function(e,t,n){},265:function(e,t,n){},266:function(e,t,n){},267:function(e,t,n){},268:function(e,t,n){},269:function(e,t,n){},270:function(e,t,n){},271:function(e,t,n){},280:function(e,t,n){"use strict";n.r(t);var a,r=n(0),s=n.n(r),i=n(37),c=n.n(i),o=(n(217),n(6)),l=n(15),d=n(4),u=n(5),j=n(21),b=n(3),p=n(24),h=n(17),f=n(319),O={username:"Nome utente",password:"Password",tenant:"Organizzazione",keep_logged:"Mantieni Accesso",select:"Seleziona",language:"Lingua",welcome:"Bentornato",role:"Ruolo",session_expire_in:"La sessione scadr\xe0 in ",resources:"Risorse",notifications:"Notifiche",file_content:"Contenuto del file",clear_all:"Cancella tutto",enter:"Inserisci",username_suggestion:"Inserisci il nome utente",password_suggestion:"Inserisci la password",tenant_suggestion:"Inserisci la tua organizzazione",add_tenant:"Aggiungi organizzazione",welcome_hp:"Benvenuto nel pannello di controllo del Model Registry!",left_bar_descr_hp:"Nella barra a sinistra sono presenti le informazioni relative al tuo account e i collegamenti alle pagine.",right_bar_descr_hp:'La barra a destra pu\xf2 essere aperta cliccando sul pulsante "Notifiche" per mostrare la lista delle notifiche.',session_expire_info_hp:"",github_page_hp:"Pagina Github di Measurify",github_issue_page_hp:"Segnala bug o problemi",profile_page_desc:"questa \xe8 la pagina in cui puoi visionare il tuo profilo o modificare la password",pass_change_confirm:"La password verr\xe0 modificata, procedere?",pass_not_match:"La password inserita e la conferma non combaciano, si prega di reinserirle",old_pass_empty:"Per favore, inserire la vecchia password",old_pass_wrong:"La vecchia password \xe8 sbagliata",pass_not_null:"La password non pu\xf2 essere vuota",password_changed:"Password cambiata",oh_no:"Oh No!",broken_link:"Sembra che tu abbia utilizzato un collegamento non funzionante.",submit:"Invio",cancel:"Annulla",login:"Accedi",logout:"Esci",repeat:"Ripeti",close:"Chiudi",login_error:"Login errata!",unauthorised_user:"Non sei abilitato a utilizzare questa pagina",session_expired:"Sessione scaduta"},m={username:"Username",password:"Password",tenant:"Tenant",keep_logged:"Keep Logged In",select:"Select",language:"Language",welcome:"Welcome back",role:"Role",session_expire_in:"Session will expire in ",resources:"Resources",notifications:"Notifications",file_content:"File content",clear_all:"Clear all",enter:"Enter",username_suggestion:"Insert your username",password_suggestion:"Insert your password",tenant_suggestion:"Insert your tenant",add_tenant:"Add tenant",welcome_hp:"Welcome to the Model Registry dashboard!",left_bar_descr_hp:"The left bar contains the information about your account and  the list of tabs",right_bar_descr_hp:'The right bar contains the notification bar (Click on "Notifications" to open).',session_expire_info_hp:"",github_page_hp:"",github_issue_page_hp:"Report bugs or issues",profile_page_desc:"from this page you can view your own profile or change the password",pass_change_confirm:"Password will be changed, do you confirm?",pass_not_match:"Provided password and the confirmation do not match. Please insert them again",old_pass_empty:"Please. enter old password",old_pass_wrong:"The old password is wrong",pass_not_null:"Password cannot be empty",password_changed:"Password changed",oh_no:"Oh No!",broken_link:"It looks like you have clicked on a broken link.",submit:"Submit",cancel:"Cancel",login:"Login",logout:"Logout",repeat:"Repeat",close:"Close",login_error:"Wrong login!",unauthorised_user:"You are not allowed to use this page",session_expired:"Session expired"},v=n(218).default,x=n(236),g=v.create({httpsAgent:new x.Agent({})}),y={PushNotification:function(e){},RemoveNotification:function(e){},ClearNotifications:function(){}};function w(e,t,n){var r={username:"".concat(e),password:"".concat(t),tenant:"".concat(n)},s={headers:{"Content-Type":"application/json","Cache-Control":"no-cache"}},i=a+"/login";return new Promise((function(e,t){g.post(i,r,s).then((function(t){localStorage.setItem("token",t.data.token),localStorage.setItem("token-expiration-time",t.data.token_expiration_time),localStorage.setItem("username",t.data.user.username),localStorage.setItem("user-tenant",n),localStorage.setItem("login-time",(new Date).getTime().toString());var a=void 0!==t.data.user.type?t.data.user.type:t.data.user.role;localStorage.setItem("user-role",a),e(t)})).catch((function(e){t(e)}))}))}function k(){var e={headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:E()}},t=a+"/login";return new Promise((function(n,a){g.put(t,{},e).then((function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("login-time",(new Date).getTime().toString()),localStorage.setItem("token-expiration-time",e.data.token_expiration_time),n(e)})).catch((function(e){a(e)}))}))}function C(e,t){return S.apply(this,arguments)}function S(){return S=Object(l.a)(Object(o.a)().mark((function e(t,n){var r,s,i,c,l,d=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>2&&void 0!==d[2]?d[2]:{},void 0===(s=d.length>3&&void 0!==d[3]?d[3]:void 0)&&(s=E()),i=a+"/"+t+"/file",console.log("POST file:"+i),c={"Content-Type":"multipart/form-data","Cache-Control":"no-cache",Authorization:s},Object.entries(r).forEach((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];c[n]=a})),l={headers:c},e.abrupt("return",new Promise((function(e,a){g.post(i,n,l).then((function(n){y.PushNotification({name:"info",time:(new Date).toTimeString(),msg:"Successful POST of file on: "+t}),e({response:n})})).catch((function(e){y.PushNotification({name:"error",time:(new Date).toTimeString(),msg:"Error doing a POST of file on: "+t}),a({error:e})}))})));case 9:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function N(e,t,n){return _.apply(this,arguments)}function _(){return _=Object(l.a)(Object(o.a)().mark((function e(t,n,r){var s,i,c,l,d,u=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=u.length>3&&void 0!==u[3]?u[3]:{},void 0===(i=u.length>4&&void 0!==u[4]?u[4]:void 0)&&(i=E()),c=a+"/"+t+"/"+n+"/versions",console.log("POST file:"+c),l={"Content-Type":"multipart/form-data","Cache-Control":"no-cache",Authorization:i},Object.entries(s).forEach((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];l[n]=a})),d={headers:l},e.abrupt("return",new Promise((function(e,n){g.post(c,r,d).then((function(n){y.PushNotification({name:"info",time:(new Date).toTimeString(),msg:"Successful POST of file on: "+t}),e({response:n})})).catch((function(e){y.PushNotification({name:"error",time:(new Date).toTimeString(),msg:"Error doing a POST of file on: "+t}),n({error:e})}))})));case 9:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function A(e,t){return D.apply(this,arguments)}function D(){return D=Object(l.a)(Object(o.a)().mark((function e(t,n){var r,s,i,c=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===(r=c.length>2&&void 0!==c[2]?c[2]:void 0)&&(r=E()),s=a+"/"+t+"/",console.log("POST :"+s),i={headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:r}},e.abrupt("return",new Promise((function(e,a){g.post(s,n,i).then((function(n){y.PushNotification({name:"info",time:(new Date).toTimeString(),msg:"Successful POST of a resource type: "+t}),e({response:n})})).catch((function(e){y.PushNotification({name:"error",time:(new Date).toTimeString(),msg:"Error doing a POST of a resource type: "+t}),a({error:e})}))})));case 6:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function F(e,t,n){return T.apply(this,arguments)}function T(){return T=Object(l.a)(Object(o.a)().mark((function e(t,n,r){var s,i,c,l=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=l.length>3&&void 0!==l[3]?l[3]:void 0,i=a+"/"+t+"/"+r,void 0===s&&(s=E()),console.log("PUT :"+i),c={headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:s}},e.abrupt("return",new Promise((function(e,a){g.put(i,n,c).then((function(a){void 0!==n.password&&(n.password="".padStart(n.password.length,"*")),y.PushNotification({name:"info",time:(new Date).toTimeString(),msg:"Successful PUT of a resource type: "+t+", id: "+r+", body: "+JSON.stringify(n)}),e({response:a})})).catch((function(e){void 0!==n.password&&(n.password="".padStart(n.password.length,"*")),y.PushNotification({name:"error",time:(new Date).toTimeString(),msg:"Error doing a PUT on resource type: "+t+", id: "+r+", body: "+JSON.stringify(n)+". "+e.message}),a({error:e})}))})));case 6:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)}function P(e,t){return I.apply(this,arguments)}function I(){return I=Object(l.a)(Object(o.a)().mark((function e(t,n){var r,s,i,c=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:void 0,s=a+"/"+t,void 0===r&&(r=E()),void 0!==n&&(s+="/"+n),console.log("DELETE :"+s),i={headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:r}},e.abrupt("return",new Promise((function(e,a){g.delete(s,i).then((function(a){void 0!==n?y.PushNotification({name:"info",time:(new Date).toTimeString(),msg:"Deleted resource: "+n+", of type: "+t}):y.PushNotification({name:"info",time:(new Date).toTimeString(),msg:"Deleted resources of type: "+t}),e({response:a})})).catch((function(e){y.PushNotification({name:"error",time:(new Date).toTimeString(),msg:"error deleting resource: "+n+", of type: "+t+". "+e.message}),404===e.statusCode&&y.PushNotification({name:"error",time:(new Date).toTimeString(),msg:"Please check if your user is authorized to delete the resource. "+e.message}),a({error:e})}))})));case 7:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function R(e,t,n){return B.apply(this,arguments)}function B(){return B=Object(l.a)(Object(o.a)().mark((function e(t,n,r){var s,i,c,l=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=l.length>3&&void 0!==l[3]?l[3]:void 0,void 0!==n&&void 0!==r){e.next=4;break}return console.log("idResource or id can't be null"),e.abrupt("return");case 4:return i=a+"/"+t+"/"+n+"/versions/"+r,void 0===s&&(s=E()),console.log("DELETE :"+i),c={headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:s}},e.abrupt("return",new Promise((function(e,n){g.delete(i,c).then((function(n){y.PushNotification({name:"info",time:(new Date).toTimeString(),msg:"Deleted resource: "+r+", version of type: "+t}),e({response:n})})).catch((function(e){y.PushNotification({name:"error",time:(new Date).toTimeString(),msg:"error deleting resource: "+r+", version of type: "+t+". "+e.message}),404===e.statusCode&&y.PushNotification({name:"error",time:(new Date).toTimeString(),msg:"Please check if your user is authorized to delete the resource. "+e.message}),n({error:e})}))})));case 9:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}function z(e){return L.apply(this,arguments)}function L(){return L=Object(l.a)(Object(o.a)().mark((function e(t){var n,r,s,i,c,l=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:{},r=l.length>2&&void 0!==l[2]?l[2]:{},s=l.length>3?l[3]:void 0,i=a+"/"+t+"/",void 0===s&&(s=E()),i=void 0!==n.filter?i.concat("?filter="+n.filter):i.concat("?filter="),void 0!==n.limit&&(i=i.concat("&limit="+n.limit)),void 0!==n.page&&(i=i.concat("&page="+n.page)),console.log("GET :"+i),c=Object(u.a)(Object(u.a)({},r),{headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:s},json:!0}),e.abrupt("return",new Promise((function(e,t){g.get(i,c).then((function(t){e({response:t,docs:t.data.docs,totalDocs:t.data.totalDocs,limit:t.data.limit,totalPages:t.data.totalPages,page:t.data.page,pagingCounter:t.data.pagingCounter,hasPrevPage:t.data.hasPrevPage,hasNextPage:t.data.hasNextPage,prevPage:t.data.prevPage,nextPage:t.data.nextPage})})).catch((function(e){t({error:e})}))})));case 11:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function E(){return localStorage.getItem("token")}function W(e){return V.apply(this,arguments)}function V(){return(V=Object(l.a)(Object(o.a)().mark((function e(t){var n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={filter:JSON.stringify({feature:t})},e.prev=1,e.next=4,z("measurements",n);case 4:if(!(e.sent.totalDocs>0)){e.next=9;break}return e.abrupt("return",!0);case 9:return a={filter:JSON.stringify({features:t})},e.next=12,z("devices",a);case 12:if(!(e.sent.totalDocs>0)){e.next=17;break}return e.abrupt("return",!0);case 17:return e.abrupt("return",!1);case 18:e.next=25;break;case 20:return e.prev=20,e.t0=e.catch(1),console.log("Error on isFeatureInUse"),console.log(e.t0),e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,null,[[1,20]])})))).apply(this,arguments)}var H=void 0,K="Model Registry Dashboard",U=[],G="vertical",J={users:["username","role","actions"],tags:["_id","usage","actions"],datasets:["name","metadata","tags","actions"],models:["name","metadata","status","tags","actions"],algorithms:["name","metadata","status","tags","actions"]},M={datasets:["ordinal","original","timestamp","size","actions"],models:["ordinal","original","timestamp","size","actions"],algorithms:["ordinal","original","timestamp","size","actions"]},q={datasets:{original:"filename",timestamp:"data",size:"size (byte)"},models:{original:"filename",timestamp:"data",size:"size (byte)"},algorithms:{original:"filename",timestamp:"data",size:"size (byte)"}},Y={users:["view","delete"],tags:["view","delete"],datasets:["view","edit","versioning","delete"],models:["view","edit","versioning","delete"],algorithms:["view","edit","versioning","delete"],datasetsVersion:["downloadVersion","deleteVersion"],modelsVersion:["downloadVersion","deleteVersion"],algorithmsVersion:["downloadVersion","deleteVersion"]},Q={users:["username","role"],tags:["_id","usage","owner","actions"],datasets:["_id","name","metadata","versions","users"],models:["name","metadata","datasets","versions","users","tags"],algorithms:["name","metadata","datasets","versions","users","tags"]},X={models:{name:"",metadata:[{name:"",value:""}],status:"",datasets:[""],tags:[""],users:[""],visibility:""},algorithms:{name:"",metadata:[{name:"",value:""}],status:"",datasets:[""],tags:[""],users:[""],visibility:""},datasets:{name:"",metadata:[{name:"",value:""}],tags:[""],users:[""],visibility:""}},Z={tenants:{token:"",_id:"",organization:"",address:"",email:"",phone:"",admin_username:"",admin_password:"",passwordhash:""},datasets:{name:"",metadata:[{name:"",value:""}],tags:[""],users:[""],visibility:""},models:{name:"",metadata:[{name:"",value:""}],status:"",datasets:[""],tags:[""],users:[""],visibility:""},algorithms:{name:"",metadata:[{name:"",value:""}],status:"",datasets:[""],tags:[""],users:[""],visibility:""},versions:{ordinal:"",file:""},users:{username:"",password:"",role:""},tags:{_id:"",usage:""}},$={};$.features={_id:{type:"disable",policy:W},items:{type:"disable",policy:W}};var ee={users:["form","file"],tags:["form","file"],models:["form","file"],algorithms:["form","file"],datasets:["form","file"],versions:["file"],tenants:["form"]},te={users:{role:"UserRoles"},datasets:{visibility:"VisibilityTypes"},models:{visibility:"VisibilityTypes",status:"ModelStatusTypes"},algorithms:{visibility:"VisibilityTypes",status:"AlgorithmStatusTypes"},tags:{usage:"UsageTypes"}},ne={datasets:{users:"users"},models:{datasets:"datasets",users:"users"},algorithms:{datasets:"datasets",users:"users"}},ae={};function re(){var e=localStorage.getItem("language");return 0===U.length?m:(1===U.length&&(e=U[0]),"it"===e?O:"en"===e?m:"it"===navigator.language.substring(0,2)?O:(navigator.language.substring(0,2),m))}ae.users=["admin"],ae.tags=["admin"];n(260),n(261);var se=n(1),ie=function(){function e(e){localStorage.setItem("language",e),window.location.reload()}return Object(se.jsxs)("div",{children:[re().language,Object(se.jsxs)("div",{children:[U.includes("it")&&Object(se.jsx)(f.a,{variant:"outline-info",onClick:function(){return e("it")},children:"Ita"}),U.includes("en")&&Object(se.jsx)(f.a,{variant:"outline-info",onClick:function(){return e("en")},children:"Eng"})]})]})},ce=n(335),oe=s.a.createRef(),le=s.a.createRef(),de=s.a.createRef(),ue=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1];function s(){return(s=Object(l.a)(Object(o.a)().mark((function e(t){var n,r,s;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=oe.current.value,r=le.current.value,s=de.current.value,e.prev=4,e.next=7,w(n,r,s);case 7:window.location.replace("/"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),console.log({error:e.t0.response.data}),a(e.t0.response.data.message+" : "+e.t0.response.data.details);case 14:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}return Object(se.jsxs)("div",{className:"auth-page",children:[Object(se.jsxs)("div",{className:"title-wrapper",children:[Object(se.jsx)("div",{className:"title-section",children:"Measurify"}),Object(se.jsx)("br",{}),Object(se.jsx)("div",{className:"subtitle-section",children:"From the edge to cloud and back"})]}),U.length>1&&Object(se.jsx)("div",{className:"language-wrapper",children:Object(se.jsx)(ie,{})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsxs)("div",{className:"login-section",children:[Object(se.jsx)("h4",{children:re().login}),Object(se.jsxs)(ce.a,{onSubmit:function(e){return s.apply(this,arguments)},children:[Object(se.jsxs)(ce.a.Group,{className:"mb-3",controlId:"username",children:[Object(se.jsx)(ce.a.Label,{children:re().username}),Object(se.jsx)(ce.a.Control,{ref:oe,type:"text",placeholder:re().username_suggestion})]}),Object(se.jsxs)(ce.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(se.jsx)(ce.a.Label,{children:re().password}),Object(se.jsx)(ce.a.Control,{type:"password",ref:le,placeholder:re().password_suggestion})]}),Object(se.jsxs)(ce.a.Group,{className:"mb-3",controlId:"tenant",children:[Object(se.jsx)(ce.a.Label,{children:re().tenant}),Object(se.jsx)(ce.a.Control,{type:"text",ref:de,placeholder:re().tenant_suggestion})]}),Object(se.jsx)(f.a,{variant:"success",type:"submit",children:re().submit})]}),Object(se.jsx)("br",{}),Object(se.jsx)("div",{style:{color:"red"},children:n}),Object(se.jsx)("br",{}),Object(se.jsx)("div",{className:"form-row row",children:Object(se.jsx)(p.b,{to:"/add/tenants",children:Object(se.jsxs)(f.a,{variant:"outline-success",size:"sm",children:[re().add_tenant,Object(se.jsx)("i",{className:"fa fa-plus-circle","aria-hidden":"true",title:"Add",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})]})})})]})]})},je=(n(265),function(){return Object(r.useEffect)((function(){})),Object(se.jsxs)("div",{className:"page",children:[Object(se.jsx)("header",{className:"page-header",children:K}),Object(se.jsx)("main",{className:"page-content",children:Object(se.jsx)("div",{className:"home-page",children:Object(se.jsx)("div",{className:"info-box",children:Object(se.jsxs)("div",{className:"info-text",children:[re().welcome_hp,Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),re().left_bar_descr_hp,Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),re().right_bar_descr_hp,Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),re().session_expire_info_hp,Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)("a",{href:"https://github.com/measurify/server/issues",target:"_blank",rel:"noopener noreferrer",title:"https://github.com/measurify/server/issues",children:re().github_issue_page_hp}),Object(se.jsx)("br",{})]})})})})]})}),be=(n(266),function(){return Object(se.jsxs)("div",{className:"notFound-page",children:[re().oh_no,Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),re().broken_link,Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)("a",{href:"https://github.com/measurify/server/issues",target:"_blank",rel:"noopener noreferrer",title:"https://github.com/measurify/server/issues",children:re().github_issue_page_hp})]})}),pe=(n(267),n(74)),he=n(26),fe=function e(t){if(void 0===t)return!0;if(null==t)return!0;if("number"===typeof t)return isNaN(t);if("string"===typeof t)return""===t;if(Array.isArray(t)){if(0===t.length)return!0;var n=!0;return t.forEach((function(t){n=n&&e(t)})),n}if(t.constructor===Object){var a=!0;return Object.entries(t).forEach((function(t){var n=Object(b.a)(t,2),r=(n[0],n[1]);a=a&&e(r)})),a}},Oe=function(e){return!1===Array.isArray(e)?-1:e.filter((function(e){return!fe(e)})).length},me=function e(t){if(Array.isArray(t),t.constructor===Object)for(var n=Object.entries(t),a=0;a<n.length;a++){if(Array.isArray(n[a][1]))for(var r=0;r<n[a][1].length;r++)n[a][1][r].constructor===Object||Array.isArray(n[a][1][r])?(e(n[a][1][r]),fe(n[a][1][r])&&n[a][1].splice(r,1)):fe(n[a][1][r])&&n[a][1].splice(r,1);if(n[a][1].constructor===Object)for(var s=Object.entries(n[a][1]),i=0;i<s.length;i++)s[a][1].constructor===Object||Array.isArray(s[a][1])?e(s[a][1]):fe(s[a][1])&&delete n[a][1][s[a][0]]}return t},ve=function e(t,n){if(void 0===t||void 0===n)return!1;if(t===n)return!0;if(typeof t!==typeof n)return!1;if(Array.isArray(t)&&!Array.isArray(n)||!Array.isArray(t)&&Array.isArray(n))return!1;if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;for(var a=0;a<t.length;a++)if(!e(t[a],n[a]))return!1;return!0}if(t.constructor===Object&&n.constructor!==Object||t.constructor!==Object&&n.constructor===Object)return!1;if(t.constructor===Object&&n.constructor===Object){var r=Object.keys(t),s=Object.keys(n);return r.length===s.length&&(!!e(r,s)&&!!e(Object.values(t),Object.values(n)))}return!1};function xe(e){return e&&e[0].toUpperCase()+e.slice(1)}function ge(e){var t="[ "+e.map((function(e){return e.name+" : "+e.value})).join(" ; ")+" ]";return t.length<=100?t:t.slice(0,97)+"..."}pe.a.library.add(he.i,he.a,he.n,he.l,he.k,he.m,he.j,he.b);var ye=s.a.createRef(),we=s.a.createRef(),ke=s.a.createRef(),Ce=s.a.createRef(),Se=s.a.createRef(),Ne=s.a.createRef(),_e=s.a.createRef();function Ae(){var e=Object(r.useState)(!1),t=Object(b.a)(e,2),n=t[0],a=t[1],i=localStorage.getItem("username"),c=localStorage.getItem("user-role"),o=localStorage.getItem("user-tenant");return Ne.current=null!==i?i:"",Se.current=null!==c?c:"",_e.current=null!==o&&""!==o?o:"-",Object(r.useEffect)((function(){function e(){var t,n;if(null!==ke.current)n=ke.current-1;else{if(null===we.current){var a=localStorage.getItem("login-time");null!==a?(we.current=a,t=parseInt(a,10)):(t=Date.now(),we.current=t)}else t=parseInt(we.current,10);null===Ce.current&&(Ce.current=function(){var e=localStorage.getItem("token-expiration-time");return null===e?300:e.endsWith("h")?60*parseInt(e.slice(0,-1))*60*1e3:e.endsWith("m")?60*parseInt(e.slice(0,-1))*1e3:(e.endsWith("s"),1e3*parseInt(e.slice(0,-1)))}()),n=(t+Ce.current-Date.now())/1e3}if(n<60&&(clearInterval(ye.current),k().then((function(){ke.current=null,we.current=null,ye.current=setInterval((function(){e()}),1e3)}))),n<=0)return localStorage.clear(),void window.location.replace("/");ke.current=parseInt(n,10)}ye.current=setInterval((function(){e()}),1e3)}),[]),Object(se.jsxs)("nav",{className:"app-nav",children:[Object(se.jsx)(f.a,{className:"app-nav-opener",onClick:function(){return a(!n)},children:n?Object(se.jsx)("i",{className:"fa fa-times","aria-hidden":"true"}):Object(se.jsx)("i",{className:"fa fa-bars","aria-hidden":"true"})}),Object(se.jsx)(p.b,{to:"/home",className:"nav-wrap",children:K}),Object(se.jsx)("hr",{}),Object(se.jsx)("div",{className:"app-nav-wrapper ".concat(n?"opened":""),children:Object(se.jsxs)("div",{className:"app-nav-links",children:[Object(se.jsx)("hr",{}),Object(se.jsxs)("div",{className:"data-wrapper",children:[Object(se.jsxs)(p.b,{to:"/viewProfile/",children:[re().welcome+" ",Object(se.jsx)("b",{children:Ne.current})]},"viewProfile"),Object(se.jsx)("div",{style:{paddingLeft:"10px"},children:Object(se.jsxs)("h3",{children:[re().role+" ","admin"===Se.current?Object(se.jsx)("i",{className:"fa fa-user-tie","aria-hidden":"true",title:"Admin"}):"provider"===Se.current?Object(se.jsx)("i",{className:"fa fa-user-graduate","aria-hidden":"true",title:"Provider"}):"analyst"===Se.current?Object(se.jsx)("i",{className:"fa fa-user-cog","aria-hidden":"true",title:"Analyst"}):"supplier"===Se.current?Object(se.jsx)("i",{className:"fa fa-user-tag","aria-hidden":"true",title:"Supplier"}):Object(se.jsx)("i",{className:"fa fa-user","aria-hidden":"true","aria-label":"User"})]})}),Object(se.jsx)("div",{style:{paddingLeft:"10px"},children:Object(se.jsxs)("h3",{children:[re().tenant+" ",Object(se.jsx)("b",{children:_e.current})]})}),Object(se.jsx)("br",{}),Object(se.jsx)("div",{style:{paddingLeft:"20px",paddingBottom:"20px"},children:Object(se.jsx)(f.a,{variant:"outline-danger",onClick:function(){return localStorage.clear(),void document.location.replace("/")},children:re().logout})}),U.length>1&&Object(se.jsxs)(s.a.Fragment,{children:[Object(se.jsx)("hr",{}),Object(se.jsx)("h2",{children:Object(se.jsx)(ie,{})})]})]}),Object(se.jsx)("div",{className:"app-nav-text",children:re().tools}),Object(se.jsx)("hr",{}),Object.keys(J).map((function(e){return void 0===ae[e]||ae[e].includes(Se.current)?Object(se.jsx)(p.b,{to:"/"+e,className:function(e){return e.isActive?"active":""},onClick:function(){return a(!1)},children:xe(e)},e):""}))]})})]})}var De=n(320),Fe=n(337),Te=n(197),Pe=n(336);function Ie(e){var t={};return Q[e.resType].forEach((function(n){n.constructor===Object?Object.keys(n).forEach((function(a){Array.isArray(e.resource[a])?t[a]=e.resource[a].map((function(e){var t={};return n[a].forEach((function(n){t[n]=e[n]})),t})):t[a]=e.resource[a]})):Object.keys(e.resource).includes(n)&&(t[n]=e.resource[n])})),Re(t)}function Re(e){return Object(se.jsx)(Fe.a,{defaultActiveKey:0,size:"lg",children:s.a.Children.toArray(Object.entries(e).map((function(e,t){var n=Object(b.a)(e,2),a=n[0],r=n[1];return Object(se.jsxs)(Fe.a.Item,{eventKey:t,children:[Object(se.jsx)(Fe.a.Header,{children:Object(se.jsx)("b",{children:a})}),Object(se.jsx)(Fe.a.Body,{children:r instanceof Object?Array.isArray(r)?void 0!==r[0]?Object.values(r[0]).some((function(e){return e instanceof Object}))?s.a.Children.toArray(r.map((function(e,t){return Object(se.jsx)(Fe.a,{children:Object(se.jsxs)(Fe.a.Item,{eventKey:"0",children:[Object(se.jsxs)(Fe.a.Header,{children:["datasets"===a?e.name:a," ","datasets"!==a?Object(se.jsxs)("i",{children:["[",t,"]"]}):""]}),Object(se.jsx)(Fe.a.Body,{children:Re(e)})]})})}))):r[0]instanceof Object?Object(se.jsxs)(De.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(se.jsx)("thead",{children:Object(se.jsx)("tr",{children:s.a.Children.toArray(Object.keys(r[0]).map((function(e){return Object(se.jsx)("th",{children:e})})))})}),Object(se.jsx)("tbody",{children:s.a.Children.toArray(r.map((function(e){return Object(se.jsx)("tr",{children:s.a.Children.toArray(Object.values(e).map((function(e){return Object(se.jsx)("td",{children:e})})))})})))})]}):"[ "+r.join(" , ")+" ]":"[ ]":Object(se.jsx)(De.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm",children:Object(se.jsx)("tbody",{children:s.a.Children.toArray(Object.entries(r).map((function(e){return Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{children:Object(se.jsx)("b",{children:e[0]})}),Object(se.jsx)("td",{children:e[1]})]})})))})}):void 0===r||null==r?Object(se.jsx)("i",{children:"None"}):r})]})})))})}function Be(e){var t=Object(r.useState)(void 0),n=Object(b.a)(t,2),a=n[0],s=n[1];Object(r.useEffect)((function(){}),[e]);var i=void 0!==a?Object(se.jsxs)(Te.a,{id:"popover-positioned-left",style:{width:"20vw",minWidth:1==/Mobi/i.test(window.navigator.userAgent)?250:"400px"},children:[Object(se.jsx)(Te.a.Header,{as:"h3",children:"View Resource"}),Object(se.jsx)(Te.a.Body,{children:Object(se.jsx)(Ie,{resource:a,resType:e.resType})})]}):Object(se.jsx)(Te.a,{id:"popover-positioned-left",style:{width:"20vw"},children:Object(se.jsxs)(Te.a.Header,{as:"h3",children:["Loading",Object(se.jsx)(Te.a.Body,{})]})});return"view"===e.action?Object(se.jsx)(Pe.a,{trigger:"click",placement:"left",overlay:i,rootClose:!0,children:Object(se.jsx)(f.a,{variant:"link",size:"sm",onClick:function(){s(e.takeSingle(e.id))},children:Object(se.jsx)("i",{className:"fa fa-eye","aria-hidden":"true",title:"View",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}):"downloadVersion"===e.action?Object(se.jsx)(f.a,{variant:"link",size:"sm",onClick:function(){s(e.downloadSingle(e.id))},children:Object(se.jsx)("i",{className:"fa fa-download","aria-hidden":"true",title:"Download",style:{width:"25px",height:"25px",marginRight:"10px",opacity:.85}})}):"delete"===e.action?Object(se.jsx)(f.a,{variant:"link",size:"sm",onClick:Object(l.a)(Object(o.a)().mark((function t(){return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Want to delete: "+e.id+"?")){t.next=12;break}return t.prev=2,t.next=5,P(e.resType,e.id);case 5:200===t.sent.response.status&&e.removeSingle(e.id),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),children:Object(se.jsx)("i",{className:"fa fa-times","aria-hidden":"true",title:"Delete",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})}):"deleteVersion"===e.action?Object(se.jsx)(f.a,{variant:"link",size:"sm",onClick:Object(l.a)(Object(o.a)().mark((function t(){return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Want to delete: "+e.id+"?")){t.next=12;break}return t.prev=2,t.next=5,R(e.resType,e.idResource,e.id);case 5:200===t.sent.response.status&&e.removeSingle(e.id),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),children:Object(se.jsx)("i",{className:"fa fa-times","aria-hidden":"true",title:"Delete",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})}):"edit"===e.action?Object(se.jsx)(p.b,{to:"/edit/"+e.resType+"/"+e.id,children:Object(se.jsx)(f.a,{variant:"link",size:"sm",children:Object(se.jsx)("i",{className:"fa fa-pencil-alt","aria-hidden":"true",title:"Edit",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}):"duplicate"===e.action?Object(se.jsx)(p.b,{to:"/add/"+e.resType+"/?from="+e.id,children:Object(se.jsx)(f.a,{variant:"link",size:"sm",children:Object(se.jsx)("i",{className:"fa fa-copy","aria-hidden":"true",title:"Duplicate",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}):"versioning"===e.action?Object(se.jsx)(p.b,{to:"/versions/"+e.resType+"/"+e.id,children:Object(se.jsx)(f.a,{variant:"link",size:"sm",children:Object(se.jsx)("i",{className:"fa fa-code-branch","aria-hidden":"true",title:"Version Management",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}):Object(se.jsx)("div",{})}function ze(e){return void 0===e.header||void 0===e.resources||e.header.includes("actions")&&void 0===e.actions?Object(se.jsx)("div",{children:"Loading"}):Object(se.jsx)("div",{children:Object(se.jsxs)(De.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,children:[Object(se.jsx)("thead",{children:Object(se.jsx)("tr",{children:s.a.Children.toArray(e.header.map((function(t){return void 0!==q[e.resType]&&void 0!==q[e.resType][t]?Object(se.jsx)("th",{children:q[e.resType][t]}):Object(se.jsx)("th",{children:t})})))},"header")}),Object(se.jsx)("tbody",{children:s.a.Children.toArray(e.resources.map((function(t,n){return Object(se.jsx)("tr",{children:s.a.Children.toArray(e.header.map((function(a){if("actions"===a)return Object(se.jsxs)("td",{children:[e.actions.includes("view")?Object(se.jsx)(Be,{resType:e.resType,action:"view",k:n+"_view",id:t._id,takeSingle:e.takeSingle}):"",e.actions.includes("downloadVersion")?Object(se.jsx)(Be,{resType:e.resType,action:"downloadVersion",k:n+"_downloadVersion",idResource:e.idResource,id:t.ordinal,downloadSingle:e.downloadSingle}):"",e.actions.includes("edit")?Object(se.jsx)(Be,{resType:e.resType,action:"edit",k:n+"_edit",id:t._id}):"",e.actions.includes("duplicate")?Object(se.jsx)(Be,{resType:e.resType,action:"duplicate",k:n+"_duplicate",id:t._id}):"",e.actions.includes("versioning")?Object(se.jsx)(Be,{resType:e.resType,action:"versioning",id:t._id}):"",e.actions.includes("delete")?Object(se.jsx)(Be,{resType:e.resType,action:"delete",k:n+"_delete",id:t._id,removeSingle:e.removeSingle}):"",e.actions.includes("deleteVersion")?Object(se.jsx)(Be,{resType:e.resType,action:"deleteVersion",k:n+"_deleteVersion",idResource:e.idResource,id:t.ordinal,removeSingle:e.removeSingle}):""]});if(void 0!==t[a]){if(Array.isArray(t[a])){if(void 0!==t[a][0]&&t[a][0].constructor===Object){if("metadata"===a)return Object(se.jsx)("td",{children:ge(t[a])});var r="[ "+t[a].map((function(e){return Object.entries(e).map((function(e){return e[0]+" : "+e[1]})).join(" - ")})).join(" -- ")+" ]";return Object(se.jsx)("td",{children:r.length<=100?r:r.slice(0,97)+"..."})}return Object(se.jsx)("td",{children:"[ "+t[a].join(" , ")+" ]"})}return"date"===a||"timestamp"===a?Object(se.jsx)("td",{children:(s=t[a],(s=s.replace("T"," ")).slice(0,19).replaceAll("-","/"))}):Object(se.jsx)("td",{children:t[a]});var s}})))})})))})]})})}pe.a.library.add(he.f,he.g,he.d,he.c,he.e);var Le=n(343);n(187);function Ee(e){var t=Object(h.o)().page,n=Object(p.c)(),a=Object(b.a)(n,2),s=a[0],i=a[1],c=Object(r.useState)(void 0),d=Object(b.a)(c,2),u=d[0],j=d[1],O=Object(r.useState)(void 0),m=Object(b.a)(O,2),v=m[0],x=m[1],g=Object(r.useState)(void 0),y=Object(b.a)(g,2),w=y[0],k=y[1],C=Object(r.useState)(1),S=Object(b.a)(C,2),N=S[0],_=S[1],A=Object(r.useState)(1),D=Object(b.a)(A,2),F=D[0],T=D[1],P=Object(r.useState)(),I=Object(b.a)(P,2),R=I[0],B=I[1],L=Object(r.useState)(),E=Object(b.a)(L,2),W=E[0],V=E[1],H=Object(r.useState)(),K=Object(b.a)(H,2),U=K[0],G=K[1],M=Object(r.useState)(),q=Object(b.a)(M,2),Q=q[0],X=q[1],$=Object(r.useState)(),ee=Object(b.a)($,2),te=ee[0],ne=ee[1];Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var n,a,r=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:{},e.prev=1,e.next=4,z(t,n);case 4:a=e.sent,x(J[t]),j(a.docs),void 0!==Y[t]&&k(Y[t]),B(a.hasNextPage),V(a.hasPrevPage),ne(a.totalPages),G(a.prevPage),X(a.nextPage),e.next=25;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0),x(void 0),j(void 0),B(void 0),V(void 0),ne(void 0),G(void 0),X(void 0);case 25:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}(),n=null!==s.get("page")?s.get("page"):1;_(n);var a=null!==s.get("limit")?s.get("limit"):10;T(a),e({page:n,limit:a}).catch(console.error)}),[e,t,s]);var ae=function(){var e=parseInt(N,10)-2>0,t=parseInt(N,10)+2<te;return Object(se.jsx)("div",{style:{display:"inline-flex",width:"100%"},children:Object(se.jsxs)(Le.a,{style:{alignSelf:"center",marginLeft:"auto",marginRight:"auto"},children:[Object(se.jsx)(Le.a.First,{disabled:1===N,onClick:function(){return i({page:1,limit:F})}}),Object(se.jsx)(Le.a.Prev,{disabled:!W,onClick:function(){return i({page:U,limit:F})}}),e&&Object(se.jsx)(Le.a.Ellipsis,{}),parseInt(N,10)-1>0&&Object(se.jsx)(Le.a.Item,{onClick:function(){return i({page:parseInt(N,10)-1,limit:F})},children:parseInt(N,10)-1}),Object(se.jsx)(Le.a.Item,{children:Object(se.jsx)("b",{children:N})}),parseInt(N,10)+1<=te&&Object(se.jsx)(Le.a.Item,{onClick:function(){return i({page:parseInt(N,10)+1,limit:F})},children:parseInt(N,10)+1}),t&&Object(se.jsx)(Le.a.Ellipsis,{}),Object(se.jsx)(Le.a.Next,{disabled:!R,onClick:function(){return i({page:Q,limit:F})}}),Object(se.jsx)(Le.a.Last,{disabled:N===te,onClick:function(){return i({page:te,limit:F})}})]})})};return Object(se.jsxs)("div",{className:"page",children:[Object(se.jsxs)("header",{className:"page-header",children:[t,void 0!==Z[t]&&Object(se.jsx)(p.b,{to:"/add/"+t+"/",children:Object(se.jsx)(f.a,{variant:"link",size:"sm",children:Object(se.jsx)("i",{className:"fa fa-plus-circle","aria-hidden":"true",title:"Add",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}},t+"icon")},t+"button")},t+"_add_navlink")]}),Object(se.jsxs)("main",{className:"page-content",children:[Object(se.jsx)(ze,{resType:t,header:v,resources:u,actions:w,takeSingle:function(e){return u.find((function(t){return t._id===e}))},removeSingle:function(e){var t=u.filter((function(t){return t._id!==e}));j(t)}}),Object(se.jsx)(ae,{})]})]})}pe.a.library.add(he.h);var We=n(321),Ve=n(322),He=n(190);function Ke(e){var t=Object(r.useState)(""),n=Object(b.a)(t,2),a=n[0],s=n[1],i=Object(r.useState)(""),c=Object(b.a)(i,2),d=c[0],u=c[1],j=Object(r.useState)(""),p=Object(b.a)(j,2),h=p[0],O=p[1],m=Object(r.useState)(""),v=Object(b.a)(m,2),x=v[0],g=v[1],y=Object(r.useState)(""),k=Object(b.a)(y,2),C=k[0],S=k[1],N=Object(r.useState)(""),_=Object(b.a)(N,2),A=_[0],D=_[1],T=Object(r.useState)(""),P=Object(b.a)(T,2),I=P[0],R=P[1];Object(r.useEffect)((function(){var e=localStorage.getItem("username"),t=localStorage.getItem("user-role"),n=localStorage.getItem("user-tenant");s(null!==e?e:""),u(null!==t?t:""),O(null!==n&&""!==n?n:"-")}),[]);var B=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===x&&R(re().old_pass_empty),C===A){e.next=5;break}return R(re().pass_not_match),e.abrupt("return");case 5:if(""!==C&&""!==A){e.next=8;break}return R(re().pass_not_null),e.abrupt("return");case 8:return e.prev=8,e.next=11,w(a,x,"-"!==h?h:void 0);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(8),R(re().old_pass_wrong),e.abrupt("return");case 17:if(!window.confirm(re().pass_change_confirm)){e.next=32;break}return e.prev=19,e.next=22,F("users",{password:C},a);case 22:n=e.sent,g(""),S(""),D(""),200===n.response.status&&R(re().password_changed),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(19),console.log(e.t1);case 32:case"end":return e.stop()}}),e,null,[[8,13],[19,29]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)("div",{className:"page",children:[Object(se.jsxs)("header",{className:"page-header",children:[re().welcome,"\xa0",Object(se.jsx)("b",{children:a}),":\xa0",re().profile_page_desc]}),Object(se.jsxs)("main",{className:"page-content",children:[Object(se.jsxs)(We.a,{fluid:!0,children:[Object(se.jsxs)(Ve.a,{children:[Object(se.jsx)(He.a,{xs:1,children:"Username:\xa0"}),Object(se.jsx)(He.a,{children:Object(se.jsx)("b",{children:a})})]}),Object(se.jsxs)(Ve.a,{children:[Object(se.jsx)(He.a,{xs:1,children:re().role}),Object(se.jsxs)(He.a,{children:[d,"\xa0","admin"===d?Object(se.jsx)("i",{className:"fa fa-user-tie","aria-hidden":"true",title:"Admin"}):"provider"===d?Object(se.jsx)("i",{className:"fa fa-user-graduate","aria-hidden":"true",title:"Provider"}):"analyst"===d?Object(se.jsx)("i",{className:"fa fa-user-cog","aria-hidden":"true",title:"Analyst"}):"supplier"===d?Object(se.jsx)("i",{className:"fa fa-user-tag","aria-hidden":"true",title:"Supplier"}):Object(se.jsx)("i",{className:"fa fa-user","aria-hidden":"true","aria-label":"User"})]})]}),Object(se.jsxs)(Ve.a,{children:[Object(se.jsx)(He.a,{xs:1,children:re().tenant+" "}),Object(se.jsx)(He.a,{children:Object(se.jsx)("b",{children:h})})]})]}),Object(se.jsx)("hr",{}),Object(se.jsxs)(We.a,{fluid:!0,children:[Object(se.jsx)(He.a,{children:Object(se.jsx)(Ve.a,{children:Object(se.jsx)("b",{children:"Edit password"})})}),Object(se.jsx)(Ve.a,{children:Object(se.jsx)(He.a,{children:Object(se.jsxs)(ce.a,{onSubmit:B,children:[Object(se.jsx)(Ve.a,{children:Object(se.jsx)(ce.a.Group,{className:"mb-3",children:Object(se.jsx)(ce.a.Control,{type:"password",onChange:function(e){e.preventDefault(),g(e.target.value)},value:x,placeholder:re().enter+" old password"})})}),Object(se.jsx)(Ve.a,{children:Object(se.jsx)(ce.a.Group,{className:"mb-3",children:Object(se.jsx)(ce.a.Control,{type:"password",onChange:function(e){e.preventDefault(),S(e.target.value)},value:C,placeholder:re().enter+" new password"})})}),Object(se.jsx)(Ve.a,{children:Object(se.jsxs)(ce.a.Group,{className:"mb-3",children:[Object(se.jsx)(ce.a.Control,{type:"password",onChange:function(e){e.preventDefault(),D(e.target.value)},value:A,placeholder:re().repeat+" new password","aria-describedby":"passwordHelpBlock"}),Object(se.jsx)(ce.a.Text,{id:"passwordHelpBlock",muted:!0,children:I})]})}),Object(se.jsx)(f.a,{variant:"primary",type:"submit",children:re().submit})]})})})]})]})]})}n(268),n(269);function Ue(){return Object(se.jsx)("div",{className:"unAuth-page",children:Object(se.jsx)("div",{className:"info-box",children:Object(se.jsx)("div",{className:"info-text",children:re().unauthorised_user})})})}var Ge=n(323),Je=n(334),Me=n(324),qe=n(339),Ye=(n(270),s.a.createContext()),Qe=s.a.createRef();function Xe(e){var t=Object(r.useState)(!1),n=Object(b.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)(!1),o=Object(b.a)(c,2),l=o[0],d=o[1],u=s.a.useRef(),j=Object(r.useContext)(Ye).notifications;Qe.current=0;var p=function(){return i(!1)};Object(r.useEffect)((function(){Qe.current<j.notifications.length&&(Qe.current=j.notifications.length,d(!0),setTimeout((function(){d(!1)}),600))}),[j.notifications]),!0===/Mobi/i.test(window.navigator.userAgent)?u.current="vertical":u.current=G;var h=j.notifications.filter((function(e){return"error"===e.name}));return Object(se.jsxs)("div",{className:"notificationBar",style:"vertical"===u.current&&!1===/Mobi/i.test(window.navigator.userAgent)?{height:"100vh"}:{},children:[Object(se.jsxs)(f.a,{variant:"link",onClick:function(){i(!0)},style:{color:"#fff",textDecoration:"none"},children:[re().notifications,"\xa0",Object(se.jsx)(Ge.a,{pill:!0,bg:h.length>0?"danger":"success",className:"element".concat(l?" highlight":""),children:j.notifications.length}),Object(se.jsx)("span",{className:"visually-hidden",children:"Unread notifications"})]}),Object(se.jsxs)(Je.a,{style:{backgroundColor:"#123651",color:"#fff"},show:a,onHide:p,placement:"end",name:"notification_bar",scroll:!1,backdrop:!0,keyboard:!0,children:[Object(se.jsx)(Je.a.Header,{children:Object(se.jsxs)(Je.a.Title,{children:[re().notifications,"\xa0",Object(se.jsx)(Ge.a,{pill:!0,bg:h.length>0?"danger":"success",children:j.notifications.length}),"\xa0\xa0\xa0",Object(se.jsx)(f.a,{variant:"outline-secondary",onClick:function(){return p()},children:re().close+" "+re().notifications})]})}),Object(se.jsx)(Je.a.Body,{children:Object(se.jsxs)("div",{style:{width:"100%",height:"100%"},children:[0!==j.notifications.length&&Object(se.jsx)(f.a,{variant:"warning",onClick:function(){return j.ClearNotifications()},children:re().clear_all}),Object(se.jsx)(Me.a,{children:j.notifications.map((function(e,t){var n;return"info"===e.name&&(n="success"),"error"===e.name&&(n="danger"),Object(se.jsxs)(qe.a,{className:"d-inline-block m-1",bg:n,animation:!0,onClose:function(){j.RemoveNotification(t)},children:[Object(se.jsxs)(qe.a.Header,{children:[Object(se.jsx)("img",{src:"holder.js/20x20?text=%20",className:"rounded me-2",alt:""}),Object(se.jsx)("strong",{className:"me-auto",children:e.name}),Object(se.jsx)("small",{children:e.time.slice(0,15)})]}),Object(se.jsx)(qe.a.Body,{children:e.msg})]},"notification_"+t)}))})]})})]})]})}n(271);pe.a.library.add(he.i,he.a,he.n,he.l,he.k,he.m,he.j,he.b);var Ze=s.a.createRef(),$e=s.a.createRef(),et=s.a.createRef(),tt=s.a.createRef(),nt=s.a.createRef(),at=s.a.createRef(),rt=s.a.createRef();function st(){var e=Object(r.useState)(!1),t=Object(b.a)(e,2),n=(t[0],t[1]),a=localStorage.getItem("username"),i=localStorage.getItem("user-role"),c=localStorage.getItem("user-tenant");return at.current=null!==a?a:"",nt.current=null!==i?i:"",rt.current=null!==c&&""!==c?c:"-",Object(r.useEffect)((function(){function e(){var t,n;if(null!==et.current)n=et.current-1;else{if(null===$e.current){var a=localStorage.getItem("login-time");null!==a?($e.current=a,t=parseInt(a,10)):(t=Date.now(),$e.current=t)}else t=parseInt($e.current,10);null===tt.current&&(tt.current=function(){var e=localStorage.getItem("token-expiration-time");return null===e?300:e.endsWith("h")?60*parseInt(e.slice(0,-1))*60*1e3:e.endsWith("m")?60*parseInt(e.slice(0,-1))*1e3:(e.endsWith("s"),1e3*parseInt(e.slice(0,-1)))}()),n=(t+tt.current-Date.now())/1e3}if(n<60&&(clearInterval(Ze.current),k().then((function(){et.current=null,$e.current=null,Ze.current=setInterval((function(){e()}),1e3)}))),n<=0)return localStorage.clear(),void window.location.replace("/");et.current=parseInt(n,10)}Ze.current=setInterval((function(){e()}),1e3)}),[]),Object(se.jsx)("nav",{className:"horizontal-nav",children:Object(se.jsx)("div",{className:"horizontal-nav-links",children:Object(se.jsx)("div",{className:"data-wrapper",children:Object(se.jsxs)(We.a,{fluid:!0,children:[Object(se.jsxs)(Ve.a,{style:{padding:0},children:[Object(se.jsx)(He.a,{children:Object(se.jsx)(p.b,{to:"/home",className:"nav-wrap",children:K})}),Object(se.jsx)(He.a,{children:Object(se.jsxs)(p.b,{to:"/viewProfile/",children:[re().welcome+" ",Object(se.jsx)("b",{children:at.current})]},"viewProfile")}),Object(se.jsx)(He.a,{children:Object(se.jsxs)("div",{className:"horizontal-nav-text",children:[re().role+" ","admin"===nt.current?Object(se.jsx)("i",{className:"fa fa-user-tie","aria-hidden":"true",title:"Admin"}):"provider"===nt.current?Object(se.jsx)("i",{className:"fa fa-user-graduate","aria-hidden":"true",title:"Provider"}):"analyst"===nt.current?Object(se.jsx)("i",{className:"fa fa-user-cog","aria-hidden":"true",title:"Analyst"}):"supplier"===nt.current?Object(se.jsx)("i",{className:"fa fa-user-tag","aria-hidden":"true",title:"Supplier"}):Object(se.jsx)("i",{className:"fa fa-user","aria-hidden":"true","aria-label":"User"})]})}),Object(se.jsx)(He.a,{children:Object(se.jsxs)("div",{className:"horizontal-nav-text",children:[re().tenant+" ",Object(se.jsx)("b",{children:rt.current})]})}),Object(se.jsx)(He.a,{children:Object(se.jsx)(f.a,{variant:"outline-danger",onClick:function(){return localStorage.clear(),void document.location.replace("/")},children:re().logout})}),U.length>1&&Object(se.jsx)(He.a,{children:Object(se.jsx)(ie,{})}),Object(se.jsx)(He.a,{children:Object(se.jsx)(Xe,{})})]}),Object(se.jsxs)(Ve.a,{style:{padding:0},children:[Object(se.jsx)("hr",{}),Object(se.jsx)("div",{style:{justifyContent:"center",alignItems:"center",alignSelf:"flex-start"},children:re().tools})]}),Object(se.jsx)(Ve.a,{style:{padding:0},children:s.a.Children.toArray(Object.keys(J).map((function(e){return Object(se.jsx)(He.a,{children:Object(se.jsx)(p.b,{to:"/"+e,className:function(e){return e.isActive?"active":""},onClick:function(){return n(!1)},children:xe(e)},e)})})))})]})})})})}var it=n(341),ct=n(332),ot=n(333),lt=function(e){var t,n=Object(r.useContext)(Ye);if(t=void 0!==n?n.fetched:{},void 0===e.values||void 0===e.resource||void 0===e.disabledFields||void 0===e.functionalFields||void 0===e.submitFunction||void 0===e.backFunction||void 0===e.handleChangesCallback||void 0===e.arrayDeleteCallback)return"Loading";return Object(se.jsxs)(ce.a,{onSubmit:e.submitFunction,children:[Object(se.jsxs)(We.a,{fluid:!0,children:[void 0===e.functionalFields[e.resource]&&"No operation allowed",void 0!==e.functionalFields[e.resource]&&s.a.Children.toArray(Object.entries(e.values).map((function(n){var a,r=Object(b.a)(n,2),i=r[0],c=r[1];if(void 0!==te[e.resource]&&void 0!==te[e.resource][i]&&void 0!==t.types&&void 0!==t.types[te[e.resource][i]])return function(t,n){return Object(se.jsxs)(Ve.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px"},children:[Object(se.jsx)(He.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(se.jsx)("b",{children:t})}),Object(se.jsx)(He.a,{sm:4,children:Object(se.jsx)(ce.a.Group,{className:"mb-3",children:Object(se.jsxs)(ce.a.Select,{"aria-label":"Default select",value:e.values[t],id:t,onChange:function(n){n.preventDefault(),e.handleChangesCallback(n.target.value,[t])},disabled:void 0!==e.disabledFields[t]&&e.disabledFields[t],children:[Object(se.jsx)("option",{children:re().select+" "+t}),s.a.Children.toArray(Object.entries(n).map((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(se.jsx)("option",{value:n,children:a})})))]})})})]})}(i,t.types[te[e.resource][i]]);if(Array.isArray(c)){if("number"===typeof c[0])return a=i,Object(se.jsxs)(Ve.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px"},children:[Object(se.jsx)(He.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(se.jsx)("b",{children:a})}),Object(se.jsx)(He.a,{sm:4,children:s.a.Children.toArray(e.values[a].map((function(t,n){return Object(se.jsx)(Ve.a,{children:Object(se.jsxs)(ce.a.Group,{className:"mb-3",children:[Object(se.jsxs)(ce.a.Label,{children:["Insert ",Object(se.jsx)("b",{children:a}),Object(se.jsxs)("i",{children:["[",n,"]"]})]}),Object(se.jsx)(ce.a.Control,{type:"number",disabled:void 0!==e.disabledFields[a]&&e.disabledFields[a],onChange:function(t){t.preventDefault(),e.handleChangesCallback(parseInt(t.target.value,10),[a,n])},value:isNaN(e.values[a][n])?"":e.values[a][n],placeholder:re().enter+" "+a})]})})})))})]});if("string"===typeof c[0])return function(n){var a;return t!=={}&&void 0!==t.data[n]&&(a=t.data[n]),Object(se.jsxs)(Ve.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px"},children:[Object(se.jsx)(He.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(se.jsx)("b",{children:n})}),Object(se.jsx)(He.a,{children:s.a.Children.toArray(e.values[n].map((function(r,s){return Object(se.jsxs)(Ve.a,{children:[Object(se.jsx)(He.a,{sm:1,children:Object(se.jsx)(f.a,{disabled:void 0!==e.disabledFields[n]&&e.disabledFields[n],variant:"link",size:"sm",onClick:function(t){t.preventDefault(),e.arrayDeleteCallback([n,s])},children:Object(se.jsx)("i",{className:"fa fa-times","aria-hidden":"true",title:"Remove element",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}),Object(se.jsx)(He.a,{sm:4,children:Object(se.jsx)(ce.a.Group,{className:"mb-3",style:{backgroundColor:"white"},children:void 0!==t.data[n]&&void 0!==a?Object(se.jsx)(ot.a,{disabled:void 0!==e.disabledFields[n]&&e.disabledFields[n],id:n,onChange:function(t,a){t.preventDefault(),""===a||null===a?e.handleChangesCallback("",[n,s]):e.handleChangesCallback(a._id,[n,s])},value:""===r?null:a.filter((function(e){return e._id===r}))[0],options:a,getOptionLabel:function(e){return void 0!==e.optionalLabel?e.optionalLabel:e._id},renderOption:function(e,t){return Object(se.jsx)(it.a,Object(u.a)(Object(u.a)({component:"li",sx:{"& > img":{mr:2,flexShrink:0}}},e),{},{children:void 0!==t.optionalLabel?t.optionalLabel:t._id}))},renderInput:function(e){return Object(se.jsx)(ct.a,Object(u.a)(Object(u.a)({},e),{},{label:re().enter+" "+n}))}}):Object(se.jsx)(ce.a.Control,{type:"text",disabled:void 0!==e.disabledFields[n]&&e.disabledFields[n],onChange:function(t){t.preventDefault(),e.handleChangesCallback(t.target.value,[n,s])},value:e.values[n][s],placeholder:re().enter+" "+n})})}),Object(se.jsx)(He.a,{md:"auto"})]})})))})]})}(i);if(c[0].constructor===Object)return function(n){return Object(se.jsxs)(Ve.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px"},children:[Object(se.jsx)(He.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(se.jsx)("b",{children:n})}),Object(se.jsx)(He.a,{children:s.a.Children.toArray(e.values[n].map((function(a,r){return Object(se.jsxs)(Ve.a,{children:[Object(se.jsx)(He.a,{sm:1,children:Object(se.jsx)(f.a,{disabled:void 0!==e.disabledFields[n]&&e.disabledFields[n],variant:"link",size:"sm",onClick:function(t){t.preventDefault(),e.arrayDeleteCallback([n,r])},children:Object(se.jsx)("i",{className:"fa fa-times","aria-hidden":"true",title:"Remove element",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}),s.a.Children.toArray(Object.entries(a).map((function(a){var i=Object(b.a)(a,2),c=i[0],o=i[1];return"number"===typeof o?Object(se.jsx)(He.a,{sm:2,children:Object(se.jsx)(ce.a.Group,{className:"mb-3",children:Object(se.jsx)(ce.a.Control,{type:"number",onChange:function(t){t.preventDefault(),e.handleChangesCallback(parseInt(t.target.value,10),[n,r,c])},disabled:void 0!==e.disabledFields[n]&&e.disabledFields[n],value:isNaN(e.values[n][r][c])?"":e.values[n][r][c],placeholder:re().enter+" "+c},n+c+r+"")})}):void 0!==te[e.resource]&&void 0!==te[e.resource][n]&&void 0!==te[e.resource][n][c]&&void 0!==t.types&&void 0!==t.types[te[e.resource][n][c]]?Object(se.jsx)(He.a,{sm:3,children:Object(se.jsx)(ce.a.Group,{className:"mb-3",children:Object(se.jsxs)(ce.a.Select,{"aria-label":"Default select",onChange:function(t){t.preventDefault(),e.handleChangesCallback(t.target.value,[n,r,c])},value:e.values[n][r][c],disabled:void 0!==e.disabledFields[n]&&e.disabledFields[n],children:[Object(se.jsx)("option",{children:re().select+" "+c}),s.a.Children.toArray(Object.entries(t.types[te[e.resource][n][c]]).map((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(se.jsx)("option",{value:n,children:a})})))]})})}):"string"===typeof o?Object(se.jsx)(He.a,{sm:3,children:Object(se.jsx)(ce.a.Group,{className:"mb-3",children:Object(se.jsx)(ce.a.Control,{type:"text",disabled:void 0!==e.disabledFields[n]&&e.disabledFields[n],onChange:function(t){t.preventDefault(),e.handleChangesCallback(t.target.value,[n,r,c])},value:e.values[n][r][c],placeholder:re().enter+" "+c})})}):Array.isArray(o)?0===o.length?c+" is empty":"range"===c&&"enum"!==e.values[n][r].type?"":Object(se.jsx)(Ve.a,{children:Object(se.jsx)(Fe.a,{defaultActiveKey:"0",children:Object(se.jsxs)(Fe.a.Item,{eventKey:"0",children:[Object(se.jsxs)(Fe.a.Header,{children:[Object(se.jsx)("b",{children:c})," : ",Oe(o)," items"]}),Object(se.jsx)(Fe.a.Body,{children:s.a.Children.toArray(o.map((function(t,a){if(t.constructor===Object){var i=Object.entries(t);return Object(se.jsxs)(Ve.a,{children:[Object(se.jsx)(He.a,{sm:1,style:{borderRightStyle:"dotted",borderRightWidth:"1px"}}),Object(se.jsx)(He.a,{sm:1,children:Object(se.jsx)(f.a,{disabled:void 0!==e.disabledFields[n]&&e.disabledFields[n],variant:"link",size:"sm",onClick:function(t){t.preventDefault(),e.arrayDeleteCallback([n,r,c,a])},children:Object(se.jsx)("i",{className:"fa fa-times","aria-hidden":"true",title:"Remove element",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}),s.a.Children.toArray(i.map((function(t){var s=Object(b.a)(t,2),i=s[0],o=s[1];return Object(se.jsx)(He.a,{sm:3,children:Object(se.jsx)(ce.a.Group,{className:"mb-3",children:Object(se.jsx)(ce.a.Control,{type:"text",disabled:void 0!==e.disabledFields[n]&&e.disabledFields[n],onChange:function(t){t.preventDefault(),e.handleChangesCallback(t.target.value,[n,r,c,a,i])},value:o,placeholder:re().enter+" "+i})})})})))]})}return"number"===typeof t?Object(se.jsxs)(Ve.a,{children:[Object(se.jsx)(He.a,{sm:1,children:Object(se.jsx)(f.a,{disabled:void 0!==e.disabledFields[n]&&e.disabledFields[n],variant:"link",size:"sm",onClick:function(t){t.preventDefault(),e.arrayDeleteCallback([n,r,c,a])},children:Object(se.jsx)("i",{className:"fa fa-times","aria-hidden":"true",title:"Remove element",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}),Object(se.jsx)(He.a,{sm:3,children:Object(se.jsx)(ce.a.Control,{type:"number",disabled:void 0!==e.disabledFields[c]&&e.disabledFields[c],onChange:function(t){t.preventDefault(),e.handleChangesCallback(parseInt(t.target.value,10),[n,r,c,a])},value:isNaN(t)?"":t,placeholder:re().enter+" "+c},""+n+r+c+a)})]}):"string"===typeof t?Object(se.jsxs)(Ve.a,{children:[Object(se.jsx)(He.a,{sm:1,children:Object(se.jsx)(f.a,{disabled:void 0!==e.disabledFields[n]&&e.disabledFields[n],variant:"link",size:"sm",onClick:function(t){t.preventDefault(),e.arrayDeleteCallback([n,r,c,a])},children:Object(se.jsx)("i",{className:"fa fa-times","aria-hidden":"true",title:"Remove element",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}),Object(se.jsx)(He.a,{sm:3,children:Object(se.jsx)(ce.a.Control,{type:"text",disabled:void 0!==e.disabledFields[c]&&e.disabledFields[c],onChange:function(t){t.preventDefault(),e.handleChangesCallback(t.target.value,[n,r,c,a])},value:t,placeholder:re().enter+" "+c},""+n+r+c+a)})]}):"Unknown data type"})))})]})})}):"Unknown data type"})))]})})))})]})}(i)}return"number"===typeof c?function(t){return Object(se.jsxs)(Ve.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px"},children:[Object(se.jsx)(He.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(se.jsx)("b",{children:t})}),Object(se.jsx)(He.a,{sm:4,children:Object(se.jsx)(ce.a.Group,{className:"mb-3",children:Object(se.jsx)(ce.a.Control,{type:"number",id:t,onChange:function(n){n.preventDefault(),e.handleChangesCallback(parseInt(n.target.value,10),[t])},value:isNaN(e.values[t])?"":e.values[t],disabled:void 0!==e.disabledFields[t]&&e.disabledFields[t],placeholder:re().enter+" "+t})})})]})}(i):void 0!==ne[e.resource]&&void 0!==ne[e.resource][i]&&void 0!==t.data[ne[e.resource][i]]?function(n,a){var r;return t==={}||void 0===t.data[n]&&void 0===t.data[a]||(r=t.data[void 0!==a?a:n]),Object(se.jsxs)(Ve.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px"},children:[Object(se.jsx)(He.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(se.jsx)("b",{children:n})}),Object(se.jsx)(He.a,{sm:4,children:Object(se.jsx)(ce.a.Group,{className:"mb-3",children:Object(se.jsx)(ot.a,{id:n,onChange:function(t,a){t.preventDefault(),""===a||null===a?e.handleChangesCallback("",[n]):e.handleChangesCallback(a._id,[n])},disabled:void 0!==e.disabledFields[n]&&e.disabledFields[n],value:""===e.values[n]?null:r.filter((function(t){return t._id===e.values[n]}))[0],options:r,getOptionLabel:function(e){return void 0!==e.optionalLabel?e.optionalLabel:e._id},renderOption:function(e,t){return Object(se.jsx)(it.a,Object(u.a)(Object(u.a)({component:"li",sx:{"& > img":{mr:2,flexShrink:0}}},e),{},{children:void 0!==t.optionalLabel?t.optionalLabel:t._id}))},renderInput:function(e){return Object(se.jsx)(ct.a,Object(u.a)(Object(u.a)({},e),{},{label:re().enter+" "+n}))}})})})]})}(i,ne[e.resource][i]):"string"===typeof c?function(t){return Object(se.jsxs)(Ve.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px"},children:[Object(se.jsx)(He.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(se.jsx)("b",{children:t})}),Object(se.jsx)(He.a,{sm:4,children:Object(se.jsx)(ce.a.Group,{className:"mb-3",children:Object(se.jsx)(ce.a.Control,{type:"password"===t?"password":"text",id:t,onChange:function(n){n.preventDefault(),e.handleChangesCallback(n.target.value,[t])},disabled:void 0!==e.disabledFields[t]&&e.disabledFields[t],value:e.values[t],placeholder:re().enter+" "+t})})})]})}(i):c.constructor===Object?"TODO ObjectFormRow":""})))]}),Object(se.jsx)(f.a,{variant:"primary",type:"submit",children:re().submit},"submit"),"\xa0\xa0\xa0",Object(se.jsx)(f.a,{variant:"secondary",onClick:e.backFunction,children:re().cancel},"cancel")]})},dt=n(83);function ut(e,t){var n=Object.keys(e),a=Object.keys(t);return(n=n.filter((function(e){return-1!==a.indexOf(e)}))).sort((function(e,t){return a.indexOf(e)-a.indexOf(t)})),n.reduce((function(n,a){if(Array.isArray(e[a])&&0!==e[a].length&&e[a][0].constructor===Object){var r=e[a].map((function(e){return ut(e,t[a][0])}));n[a]=r}else n[a]=e[a];return n}),{})}function jt(e,t,n){for(var a=Object.keys(e),r=dt(e),s=0;s<a.length;s++)Array.isArray(r[a[s]])&&(r=bt(r,[a[s]],t,n));return r}function bt(e,t,n,a){for(var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=dt(e),i=s,c=void 0!==n?dt(n[a]):void 0,o=Object(j.a)(t),l=0;l<o.length&&void 0!==t[l];l++)i=i[t[l]];var d,b=Oe(i),p=i.length;if(b<p)return s;for(var h=0;h<o.length&&void 0!==t[h]&&void 0!==c;h++)c="number"===typeof t[h]?c[0]:c[t[h]];return void 0===c||Array.isArray(c)?(void 0!==c&&(d=c[0].constructor===Object?Object(u.a)({},c[0]):""),void 0!==r&&void 0===c&&(d=r.constructor===Object?Object(u.a)({},r):r),void 0!==d&&i.push(d),s):s}var pt=n(195),ht=n(83);function ft(e){var t=Object(h.o)(),n=t.resource,a=t.id,s=Object(r.useState)(void 0),i=Object(b.a)(s,2),c=i[0],d=i[1],u=Object(r.useState)({}),j=Object(b.a)(u,2),O=j[0],m=j[1],v=Object(r.useState)(void 0),x=Object(b.a)(v,2),g=x[0],y=x[1],w=Object(r.useState)(void 0),k=Object(b.a)(w,2),C=k[0],S=k[1],N=Object(r.useState)(),_=Object(b.a)(N,2),A=(_[0],_[1]),D=Object(r.useState)(""),F=Object(b.a)(D,2),T=(F[0],F[1]),P=(Object(h.m)(),Object(r.useState)(ht(X[n]))),I=Object(b.a)(P,2),R=I[0],B=I[1],L=Object(r.useState)({}),E=Object(b.a)(L,2),W=(E[0],E[1],Object(r.useState)(void 0)),V=Object(b.a)(W,2),H=V[0],K=V[1],U=Object(r.useContext)(Ye).fetched,G=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===U.data[t]){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,z(t,{limit:100});case 5:n=e.sent,U.UpdateData(n.docs.map((function(e){return e._id})),t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){void 0!==ne[n]&&Object.values(ne[n]).forEach((function(e){return G(e)}))}),[]),Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,r,s,i,c,u,j=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.length>0&&void 0!==j[0]?j[0]:{},e.next=3,z(n,t);case 3:r=e.sent,s=r.docs[0],i=ht(R),i=ut(s,i),c=M[n],y(c),d(r.docs[0].versions),m(r.docs[0]),void 0!==Y[n+"Version"]&&S(Y[n+"Version"]),u=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,r,s,c,l,d,u,j,b,p,h,f;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==$[n]){e.next=7;break}for(K({}),t=Object.keys(i),r=0;r<t.length;r++)s=t[r],i=bt(i,[s],X,n);return B(i),A(ht(i)),e.abrupt("return");case 7:c={},void 0!==H&&(c=H),l=Object.entries($[n]),d=0;case 11:if(!(d<l.length)){e.next=24;break}if(u=l[d][0],j=l[d][1],void 0!==i[u]){e.next=16;break}return e.abrupt("continue",21);case 16:if("disable"!==j.type){e.next=21;break}return e.next=19,j.policy(a);case 19:b=e.sent,c[u]=b;case 21:d++,e.next=11;break;case 24:for(p=Object.keys(i),h=0;h<p.length;h++)f=p[h],void 0!==c[f]&&!1!==c[f]||(i=bt(i,[f],X,n));K(c),B(i),A(ht(i));case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u();case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t={_id:a};e({filter:JSON.stringify(t)})}),[]);var J=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var r,s,i,l,d;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n+"/"+a+"/versions/"+t,e.next=4,z(r,{},{responseType:"arraybuffer"});case 4:s=e.sent,i=c.find((function(e){return e.ordinal===t})).original,l=c.find((function(e){return e.ordinal===t})).mimetype,d=new Blob([s.response.data],{type:l}),Object(pt.saveAs)(d,i),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),T(e.t0.error.response.data.message+" : "+e.t0.error.response.data.details);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)("div",{className:"page",children:[Object(se.jsxs)("header",{className:"page-header",children:["Version of\xa0",n.slice(0,-1),"\xa0",void 0!==O.name?Object(se.jsx)("b",{children:O.name}):"","\xa0(id:\xa0",a,")",void 0!==Z.versions&&Object(se.jsx)(p.b,{to:"/add/versions/"+n+"/"+a,children:Object(se.jsx)(f.a,{variant:"link",size:"sm",children:Object(se.jsx)("i",{className:"fa fa-plus-circle","aria-hidden":"true",title:"Add",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}},n+"icon")},n+"button")},n+"_versions_add_navlink")]}),Object(se.jsx)("main",{className:"page-content",children:Object(se.jsx)(ze,{resType:n,header:g,resources:c,actions:C,takeSingle:function(e){return c.find((function(t){return t.ordinal===e}))},removeSingle:function(e){var t=c.filter((function(t){return t.ordinal!==e}));d(t)},downloadSingle:J,idResource:a})})]})}var Ot=n(83);function mt(e){var t=Object(h.o)(),n=t.resource,a=t.id,s=Object(r.useState)(),i=Object(b.a)(s,2),c=i[0],u=i[1],p=Object(r.useState)(""),f=Object(b.a)(p,2),O=f[0],m=f[1],v=Object(h.m)(),x=Object(r.useState)(Ot(X[n])),g=Object(b.a)(x,2),y=g[0],w=g[1],k=Object(r.useState)({}),C=Object(b.a)(k,2),S=C[0],N=(C[1],Object(r.useState)(void 0)),_=Object(b.a)(N,2),A=_[0],D=_[1],T=Object(r.useContext)(Ye).fetched,P=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===T.data[t]){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,z(t,{limit:100});case 5:n=e.sent,T.UpdateData(n.docs.map((function(e){return{_id:e._id,optionalLabel:void 0!==e.name?e.name:void 0!==e.username?e.username:void 0}})),t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){void 0!==ne[n]&&Object.values(ne[n]).forEach((function(e){return P(e)}))}),[]),Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,r,s,i,c,d=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,z(n,t);case 3:r=e.sent,s=r.docs[0],i=Ot(y),i=ut(s,i),void 0===s.datasets||"models"!==n&&"algorithms"!==n||(i.datasets=s.datasets.map((function(e){return e._id}))),void 0===s.users||"models"!==n&&"algorithms"!==n&&"datasets"!==n||(i.users=s.users.map((function(e){return e._id}))),c=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,r,s,c,l,d,j,b,p,h,f,O;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==$[n]){e.next=8;break}for(D({}),t=Object.keys(i),r=0;r<t.length;r++)s=t[r],i=bt(i,[s],X,n);return console.log(i),w(i),u(Ot(i)),e.abrupt("return");case 8:c={},void 0!==A&&(c=A),l=Object.entries($[n]),d=0;case 12:if(!(d<l.length)){e.next=25;break}if(j=l[d][0],b=l[d][1],void 0!==i[j]){e.next=17;break}return e.abrupt("continue",22);case 17:if("disable"!==b.type){e.next=22;break}return e.next=20,b.policy(a);case 20:p=e.sent,c[j]=p;case 22:d++,e.next=12;break;case 25:for(h=Object.keys(i),f=0;f<h.length;f++)O=h[f],void 0!==c[O]&&!1!==c[O]||(i=bt(i,[O],X,n));D(c),w(i),u(Ot(i));case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t={_id:a};e({filter:JSON.stringify(t)})}),[]);var I=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var r,s,i,l,u,b,p,h,f,O,x,g,w,k,C,N;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.preventDefault(),r=Ot(y),s=Ot(c),me(r),me(s),i={},l=Object.entries(r),u=0;u<l.length;u++)if(b=l[u][0],p=l[u][1],Array.isArray(p)){if(void 0===i[b]&&(i[b]={add:[],remove:[],update:[]}),h=Object(j.a)(s[b]),void 0!==S[b])for(f=0;f<S[b].indexes.length;f++)(O=h.splice(S[b].indexes[f][0],1)[0]).constructor===Object?(x=Object.keys(O)[0],i[b].remove.push(O[x])):i[b].remove.push(O);for(g=0;g<r[b].length;g++)g<h.length&&!ve(r[b][g],h[g])&&(r[b][g].constructor===Object?(k=Object.keys(h[g])[0],i[b].update.push((w={},Object(d.a)(w,k,h[g][k]),Object(d.a)(w,"new",r[b][g]),w))):(i[b].add.push(r[b][g]),i[b].remove.push(h[g]))),g>=h.length&&i[b].add.push(r[b][g]);ve(i[b],{add:[],remove:[],update:[]})&&delete i[b]}else p.constructor===Object||p!==c[b]&&(i[b]=p);return e.prev=8,e.next=11,F(n,i,a);case 11:N=e.sent,C=N.response,m(C.statusText),v("/"+n),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(8),C=e.t0.error.response,m(e.t0.error.response.data.message+" : "+e.t0.error.response.data.details);case 21:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)("div",{className:"page",children:[Object(se.jsxs)("header",{className:"page-header",children:["Edit \xa0",Object(se.jsx)("b",{children:n}),"\xa0of id:\xa0",Object(se.jsx)("b",{children:a}),"\xa0"]}),Object(se.jsxs)("main",{className:"page-content",children:[Object(se.jsx)(lt,{values:y,resource:n,functionalFields:X,disabledFields:A,handleChangesCallback:function(e,t){var a,r=Ot(y),s=r,i=-1;for(a=0;a<t.length-1;a++)s=s[t[a]],"number"===typeof t[a]&&(i=a);if("number"===typeof t[a]&&(i=a),s[t[a]]=e,-1!==i){var c="number"===typeof e?NaN:"";r=bt(r,t.slice(0,i),X,n,c)}w(r)},arrayDeleteCallback:function(e){var t,a=Ot(y),r=a;for(t=0;t<e.length-1&&void 0!==e[t];t++)r=r[e[t]];var s=r.splice(e[t],1),i="number"===typeof s[0]?NaN:"";a=bt(a,e.slice(0,t),X,n,i),1===t&&(void 0===S[e[0]]&&(S[e[0]]={indexes:[],elements:[],minDel:1/0}),fe(s[0])||(S[e[0]].elements.push(s[0]),S[e[0]].indexes.push(e[t]>=S[e[0]].minDel?e[t]+S[[e[0]]].indexes.filter((function(n){return n>=e[t]})).length:e[t]),e[t]<S[e[0]].minDel&&(S[e[0]].minDel=e[t]))),w(a)},submitFunction:I,backFunction:function(e){e.preventDefault(),v(-1)}}),Object(se.jsx)("br",{}),Object(se.jsx)("font",{style:{marginLeft:"5px"},children:O})]})]})}var vt=n(338),xt=function(e){return void 0===e.submitFunction||void 0===e.backFunction||void 0===e.setContentHeader||void 0===e.setContentPlain||void 0===e.setContentBody||void 0===e.setFile||void 0===e.contentBody||void 0===e.contentPlain||void 0===e.contentHeader?"Loading":Object(se.jsxs)(ce.a,{onSubmit:e.submitFunction,children:[Object(se.jsx)(ce.a.Label,{children:Object(se.jsx)("b",{children:re().select_file})}),Object(se.jsx)(ce.a.Control,{className:"mb-3",type:"file",accept:void 0!==e.filePickerExtensions?"":" .json",label:"File",onChange:function(t){var n=t.target.files[0];e.setFile(n);var a=new FileReader;a.onloadend=function(){var t=a.result;if(n.name.endsWith(".csv")){var r=new RegExp("\\r","g"),s=t.replace(r,"").split("\n");e.setContentHeader(s[0]),s.splice(0,1),e.setContentBody(s)}if(n.name.endsWith(".json")){var i=JSON.stringify(JSON.parse(a.result),null,4);e.setContentPlain(i)}},a.readAsText(n)}}),null!==e.contentBody&&null!==e.contentHeader&&Object(se.jsx)(Fe.a,{children:Object(se.jsxs)(Fe.a.Item,{eventKey:"0",children:[Object(se.jsx)(Fe.a.Header,{children:re().file_content}),Object(se.jsx)(Fe.a.Body,{style:{overflow:"scroll",height:"70vh"},children:Object(se.jsxs)(De.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,children:[Object(se.jsx)("thead",{children:Object(se.jsx)("tr",{children:s.a.Children.toArray(e.contentHeader.split(",").map((function(e){return Object(se.jsx)("th",{children:e})})))})}),Object(se.jsx)("tbody",{children:s.a.Children.toArray(e.contentBody.map((function(e){return Object(se.jsx)("tr",{children:s.a.Children.toArray(e.split(",").map((function(e){return Object(se.jsx)("td",{children:e})})))})})))})]})})]})}),null!==e.contentPlain&&Object(se.jsx)(Fe.a,{children:Object(se.jsxs)(Fe.a.Item,{eventKey:"0",children:[Object(se.jsx)(Fe.a.Header,{children:re().file_content}),Object(se.jsx)(Fe.a.Body,{style:{overflow:"scroll",height:"70vh"},children:Object(se.jsx)("textarea",{style:{resize:"both"},cols:"120",rows:"10",readOnly:!0,value:e.contentPlain})})]})}),Object(se.jsx)(f.a,{variant:"primary",type:"submit",children:re().submit},"submit"),"\xa0\xa0\xa0",Object(se.jsx)(f.a,{variant:"secondary",onClick:e.backFunction,children:re().cancel},"cancel")]})},gt=n(83);function yt(e){var t=Object(h.o)().resource,n=Object(p.c)(),a=Object(b.a)(n,2),s=a[0];a[1];void 0!==e.resource&&(t=e.resource);var i,c=Object(h.m)(),d=Object(r.useState)("form"),u=Object(b.a)(d,2),j=u[0],f=u[1],O=Object(r.useState)(""),m=Object(b.a)(O,2),v=m[0],x=m[1],g=Object(r.useState)(gt(Z[t])),y=Object(b.a)(g,2),w=y[0],k=y[1],S=Object(r.useState)(void 0),N=Object(b.a)(S,2),_=N[0],D=N[1],F=Object(r.useState)(null),T=Object(b.a)(F,2),P=T[0],I=T[1],R=Object(r.useState)(null),B=Object(b.a)(R,2),L=B[0],E=B[1],W=Object(r.useState)(null),V=Object(b.a)(W,2),H=V[0],K=V[1],U=Object(r.useContext)(Ye);i=void 0!==U?U.fetched:{};var G=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===i.data[t]){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,z(t,{limit:100});case 5:n=e.sent,i.UpdateData(n.docs.map((function(e){return{_id:e._id,optionalLabel:void 0!==e.name?e.name:void 0!==e.username?e.username:void 0}})),t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();if(Object(r.useEffect)((function(){void 0!==ne[t]&&Object.values(ne[t]).forEach((function(e){return G(e)}))}),[]),Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var n,a,r,s,i=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,z(t,n);case 3:a=e.sent,r=a.docs[0],s=gt(w),s=jt(s=ut(r,s),Z,t),k(s);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(null!==s.get("from")&&""!==s.get("from")){var n={_id:s.get("from")};e({filter:JSON.stringify(n)})}}),[s,t]),void 0===Z[t])return Object(se.jsx)("div",{children:"This entity cannot be posted"});var J=function(e){e.preventDefault(),c(-1)},M=function(){var e=Object(l.a)(Object(o.a)().mark((function e(n){var a,r,s,i,l;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=void 0,void 0!==(r=gt(w)).token&&(a=r.token,delete r.token),s=gt(r),me(s),e.prev=6,e.next=9,A(t,JSON.stringify(s),a);case 9:l=e.sent,i=l.response,x(i.statusText),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(6),console.log(e.t0),i=e.t0.error.response,x(e.t0.error.response.data.message+" : "+e.t0.error.response.data.details);case 19:200===i.status&&!0===window.confirm("Back to resource page?")&&c("tenants"===t?"/":"/"+t);case 20:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(l.a)(Object(o.a)().mark((function e(n){var a,r,s,i;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!_.name.endsWith(".csv")){e.next=17;break}return(r=new FormData).append("file",_),e.prev=4,e.next=7,C(t,r);case 7:s=e.sent,a=s.response,x(a.statusText),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0),a=e.t0.error.response,x(e.t0.error.response.data.message+" : "+e.t0.error.response.data.details);case 17:if(!_.name.endsWith(".json")){e.next=31;break}return e.prev=18,e.next=21,A(t,H,void 0);case 21:i=e.sent,a=i.response,x(a.statusText),e.next=31;break;case 26:e.prev=26,e.t1=e.catch(18),console.log(e.t1),a=e.t1.error.response,x(e.t1.error.response.data.message+" : "+e.t1.error.response.data.details);case 31:200===a.status&&!0===window.confirm("Back to resource page?")&&c("/"+t);case 32:case"end":return e.stop()}}),e,null,[[4,12],[18,26]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)("div",{className:"page",children:[Object(se.jsxs)("header",{className:"page-header",children:["Add resource\xa0",Object(se.jsx)("b",{children:t.slice(0,-1)})]}),Object(se.jsxs)("main",{className:"page-content",children:[Object(se.jsxs)(vt.a,{justify:!0,variant:"tabs",className:"justify-content-center",onSelect:function(e){return f(e)},defaultActiveKey:"form",children:[ee[t].includes("form")&&Object(se.jsx)(vt.a.Item,{children:Object(se.jsx)(vt.a.Link,{eventKey:"form",children:"Form"})}),ee[t].includes("file")&&null===s.get("from")&&Object(se.jsx)(vt.a.Item,{children:Object(se.jsx)(vt.a.Link,{eventKey:"file",children:"File"})})]}),Object(se.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:"2px",borderStyle:"solid",borderColor:"rgba(18, 54, 81, 0.9)",borderWidth:"1px",width:"100%",height:"fit-content"},children:["form"===j&&Object(se.jsxs)("div",{style:{margin:"5px"},children:[Object(se.jsx)(lt,{values:w,resource:t,functionalFields:Z,disabledFields:{},handleChangesCallback:function(e,n){var a,r=gt(w),s=r,i=-1;for(a=0;a<n.length-1;a++)s=s[n[a]],"number"===typeof n[a]&&(i=a);s[n[a]]=e,"number"===typeof n[a]&&(i=a),-1!==i&&(r=bt(r,n.slice(0,i),Z,t)),k(r)},arrayDeleteCallback:function(e){var n,a=gt(w),r=a;for(n=0;n<e.length-1&&void 0!==e[n];n++)r=r[e[n]];r.splice(e[n],1),a=bt(a,e.slice(0,n),Z,t),k(a)},submitFunction:M,backFunction:J}),Object(se.jsx)("br",{}),Object(se.jsx)("font",{style:{marginLeft:"5px"},children:v})]}),"file"===j&&Object(se.jsxs)("div",{style:{margin:"5px"},children:[Object(se.jsx)(xt,{submitFunction:q,backFunction:J,setContentBody:E,setContentHeader:I,setContentPlain:K,setFile:D,contentPlain:H,contentHeader:P,contentBody:L}),Object(se.jsx)("font",{style:{marginLeft:"5px"},children:v})]})]})]})]})}var wt=n(83);function kt(e){var t="experiments",n=Object(p.c)(),a=Object(b.a)(n,2),i=a[0],c=(a[1],Object(h.m)()),d=Object(r.useState)("form"),u=Object(b.a)(d,2),j=u[0],f=u[1],O=Object(r.useState)(""),m=Object(b.a)(O,2),v=m[0],x=m[1],g=Object(r.useState)(wt(Z[t])),y=Object(b.a)(g,2),w=y[0],k=y[1],S=Object(r.useState)({}),N=Object(b.a)(S,2),_=N[0],D=N[1],F=Object(r.useState)(),T=Object(b.a)(F,2),P=T[0],I=T[1],R=Object(r.useState)(void 0),B=Object(b.a)(R,2),L=B[0],E=B[1],W=Object(r.useState)(null),V=Object(b.a)(W,2),H=V[0],K=V[1],U=Object(r.useState)(null),G=Object(b.a)(U,2),J=G[0],M=G[1],q=Object(r.useState)(null),Y=Object(b.a)(q,2),Q=Y[0],X=Y[1];if(Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,n,a=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.next=3,z("protocols",t);case 3:n=e.sent,I(n.docs.map((function(e){return e._id})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e({limit:100})}),[e,i]),void 0===Z[t])return Object(se.jsx)("div",{children:"This entity cannot be posted"});var $=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n,a,r,s,i,c,l,d,u;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.value,a={_id:t.target.value},r={filter:JSON.stringify(a)},e.next=6,z("protocols",r);case 6:for(s=e.sent,i=s.docs[0],c=[],l=0;l<i.metadata.length;l++)"scalar"===i.metadata[l].type&&c.push({name:i.metadata[l].name,value:NaN}),"text"===i.metadata[l].type&&c.push({name:i.metadata[l].name,value:""}),"vector"===i.metadata[l].type&&c.push({name:i.metadata[l].name,value:[NaN]});(d=wt(w)).protocol=n,0!==c.length&&(d.metadata=c),(u=wt(_)).protocol=!0,D(u),k(d);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(l.a)(Object(o.a)().mark((function e(n){var a,r,s,i,l;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=void 0,void 0!==(r=wt(w)).token&&(a=r.token,delete r.token),s=wt(r),me(s),e.prev=6,e.next=9,A(t,JSON.stringify(s),a);case 9:l=e.sent,i=l.response,x(i.statusText),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(6),console.log(e.t0),i=e.t0.error.response,x(e.t0.error.response.data.message+" : "+e.t0.error.response.data.details);case 19:200===i.status&&!0===window.confirm("Back to resource page?")&&c("/"+t);case 20:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(e){e.preventDefault(),c(-1)},ae=function(){var e=Object(l.a)(Object(o.a)().mark((function e(n){var a,r,s,i;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!L.name.endsWith(".csv")){e.next=17;break}return(r=new FormData).append("file",L),e.prev=4,e.next=7,C(t,r);case 7:s=e.sent,a=s.response,x(a.statusText),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0),a=e.t0.error.response,x(e.t0.error.response.data.message+" : "+e.t0.error.response.data.details);case 17:if(!L.name.endsWith(".json")){e.next=31;break}return e.prev=18,e.next=21,A(t,Q,void 0);case 21:i=e.sent,a=i.response,x(a.statusText),e.next=31;break;case 26:e.prev=26,e.t1=e.catch(18),console.log(e.t1),a=e.t1.error.response,x(e.t1.error.response.data.message+" : "+e.t1.error.response.data.details);case 31:200===a.status&&!0===window.confirm("Back to resource page?")&&c("/"+t);case 32:case"end":return e.stop()}}),e,null,[[4,12],[18,26]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)("div",{className:"page",children:[Object(se.jsxs)("header",{className:"page-header",children:["Add resource \xa0",Object(se.jsx)("b",{children:t})]}),Object(se.jsxs)("main",{className:"page-content",children:[Object(se.jsxs)(vt.a,{justify:!0,variant:"tabs",className:"justify-content-center",onSelect:function(e){return f(e)},defaultActiveKey:"form",children:[ee[t].includes("form")&&Object(se.jsx)(vt.a.Item,{children:Object(se.jsx)(vt.a.Link,{eventKey:"form",children:"Form"})}),ee[t].includes("file")&&null===i.get("from")&&Object(se.jsx)(vt.a.Item,{children:Object(se.jsx)(vt.a.Link,{eventKey:"file",children:"File"})})]}),Object(se.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:"2px",borderStyle:"solid",borderColor:"rgba(18, 54, 81, 0.9)",borderWidth:"1px",width:"100%",height:"fit-content"},children:["form"===j&&void 0!==P&&Object(se.jsxs)("div",{style:{margin:"5px"},children:[Object(se.jsxs)(ce.a.Select,{"aria-label":re().select+" protocol",onChange:$,children:[Object(se.jsxs)("option",{children:[re().select," protocol"]}),s.a.Children.toArray(P.map((function(e){return Object(se.jsx)("option",{value:e,children:e})})))]}),Object(se.jsx)("br",{}),Object(se.jsx)(lt,{values:w,resource:t,functionalFields:Z,disabledFields:_,handleChangesCallback:function(e,n){var a,r=wt(w),s=r,i=-1;for(a=0;a<n.length-1;a++)s=s[n[a]],"number"===typeof n[a]&&(i=a);if("number"===typeof n[a]&&(i=a),s[n[a]]=e,-1!==i){var c="number"===typeof e?NaN:"";r=bt(r,n.slice(0,i),Z,t,c)}k(r)},arrayDeleteCallback:function(e){var n,a=wt(w),r=a;for(n=0;n<e.length-1&&void 0!==e[n];n++)r=r[e[n]];var s="number"===typeof r.splice(e[n],1)[0]?NaN:"";a=bt(a,e.slice(0,n),Z,t,s),k(a)},submitFunction:te,backFunction:ne}),Object(se.jsx)("br",{}),Object(se.jsx)("font",{style:{marginLeft:"5px"},children:v})]}),"file"===j&&Object(se.jsxs)("div",{style:{margin:"5px"},children:[Object(se.jsx)(xt,{submitFunction:ae,backFunction:ne,setContentBody:M,setContentHeader:K,setContentPlain:X,setFile:E,contentPlain:Q,contentHeader:H,contentBody:J}),Object(se.jsx)("font",{style:{marginLeft:"5px"},children:v})]})]})]})]})}var Ct=n(83);function St(e){var t=Object(h.o)(),n=t.type,a=t.resource,s=t.id,i=Object(p.c)(),c=Object(b.a)(i,2),d=c[0],u=(c[1],Object(r.useState)({})),j=Object(b.a)(u,2),f=j[0],O=j[1];void 0!==e.resource&&(a=e.resource);var m,v=Object(h.m)(),x=Object(r.useState)(ee[n][0]),g=Object(b.a)(x,2),y=g[0],w=g[1],k=Object(r.useState)(""),C=Object(b.a)(k,2),S=C[0],_=C[1],D=Object(r.useState)(Ct(Z[n])),F=Object(b.a)(D,2),T=F[0],P=F[1],I=Object(r.useState)(void 0),R=Object(b.a)(I,2),B=R[0],L=R[1],E=Object(r.useState)(null),W=Object(b.a)(E,2),V=W[0],H=W[1],K=Object(r.useState)(null),U=Object(b.a)(K,2),G=U[0],J=U[1],M=Object(r.useState)(null),q=Object(b.a)(M,2),Y=q[0],Q=q[1],X=Object(r.useContext)(Ye);m=void 0!==X?X.fetched:{};var $=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===m.data[t]){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,z(t,{limit:100});case 5:n=e.sent,m.UpdateData(n.docs.map((function(e){return e._id})),t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();if(Object(r.useEffect)((function(){void 0!==ne[a]&&Object.values(ne[a]).forEach((function(e){return $(e)}))}),[]),Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,n,r,s,i=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,z(a,t);case 3:n=e.sent,r=n.docs[0],O(n.docs[0]),s=Ct(T),s=jt(s=ut(r,s),Z,a),P(s);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t={_id:s};e({filter:JSON.stringify(t)})}),[a]),void 0===Z[a])return Object(se.jsx)("div",{children:"This entity cannot be posted"});var te=function(e){e.preventDefault(),v(-1)},ae=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var r,i,c,l,d;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=void 0,void 0!==(i=Ct(T)).token&&(r=i.token,delete i.token),c=Ct(i),me(c),e.prev=6,e.next=9,A(a,JSON.stringify(c),r);case 9:d=e.sent,l=d.response,_(l.statusText),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(6),console.log(e.t0),l=e.t0.error.response,_(e.t0.error.response.data.message+" : "+e.t0.error.response.data.details);case 19:200===l.status&&(window.alert("Version uploaded successfully"),v("/"+n+"/"+a+"/"+s));case 20:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var r,i,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(i=new FormData).append("file",B),e.prev=3,e.next=6,N(a,s,i);case 6:c=e.sent,r=c.response,_(r.statusText),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0),r=e.t0.error.response,_(e.t0.error.response.data.message+" : "+e.t0.error.response.data.details);case 16:200===r.status&&(window.alert("Version uploaded successfully"),v("/"+n+"/"+a+"/"+s));case 17:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)("div",{className:"page",children:[Object(se.jsxs)("header",{className:"page-header",children:["Add version of\xa0",a.slice(0,-1),":\xa0",void 0!==f.name?Object(se.jsx)("b",{children:f.name}):""]}),Object(se.jsxs)("main",{className:"page-content",children:[Object(se.jsxs)(vt.a,{justify:!0,variant:"tabs",className:"justify-content-center",onSelect:function(e){return w(e)},defaultActiveKey:ee[n][0],children:[ee[n].includes("form")&&Object(se.jsx)(vt.a.Item,{children:Object(se.jsx)(vt.a.Link,{eventKey:"form",children:"Form"})}),ee[n].includes("file")&&null===d.get("from")&&Object(se.jsx)(vt.a.Item,{children:Object(se.jsx)(vt.a.Link,{eventKey:"file",children:"File"})})]}),Object(se.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:"2px",borderStyle:"solid",borderColor:"rgba(18, 54, 81, 0.9)",borderWidth:"1px",width:"100%",height:"fit-content"},children:["form"===y&&Object(se.jsxs)("div",{style:{margin:"5px"},children:[Object(se.jsx)(lt,{values:T,resource:a,functionalFields:Z,disabledFields:{},handleChangesCallback:function(e,t){var n,r=Ct(T),s=r,i=-1;for(n=0;n<t.length-1;n++)s=s[t[n]],"number"===typeof t[n]&&(i=n);s[t[n]]=e,"number"===typeof t[n]&&(i=n),-1!==i&&(r=bt(r,t.slice(0,i),Z,a)),P(r)},arrayDeleteCallback:function(e){var t,n=Ct(T),r=n;for(t=0;t<e.length-1&&void 0!==e[t];t++)r=r[e[t]];r.splice(e[t],1),n=bt(n,e.slice(0,t),Z,a),P(n)},submitFunction:ae,backFunction:te}),Object(se.jsx)("br",{}),Object(se.jsx)("font",{style:{marginLeft:"5px"},children:S})]}),"file"===y&&Object(se.jsxs)("div",{style:{margin:"5px"},children:[Object(se.jsx)(xt,{submitFunction:re,backFunction:te,setContentBody:J,setContentHeader:H,setContentPlain:Q,setFile:L,contentPlain:Y,contentHeader:V,contentBody:G,filePickerExtensions:""}),Object(se.jsx)("font",{style:{marginLeft:"5px"},children:S})]})]})]})]})}var Nt=n(83);function _t(e){var t="measurements",n=Object(p.c)(),a=Object(b.a)(n,2),i=a[0],c=(a[1],Object(r.useState)([])),d=Object(b.a)(c,2),u=d[0],j=d[1],O=Object(r.useState)([]),m=Object(b.a)(O,2),v=m[0],x=m[1],g=Object(h.m)(),y=Object(r.useState)("form"),w=Object(b.a)(y,2),k=w[0],S=w[1],N=Object(r.useState)(""),_=Object(b.a)(N,2),D=_[0],F=_[1],T=Object(r.useState)(Nt(Z[t])),P=Object(b.a)(T,2),I=P[0],R=P[1],B=Object(r.useState)({}),L=Object(b.a)(B,2),E=L[0],W=(L[1],Object(r.useState)()),V=Object(b.a)(W,2),H=V[0],K=V[1],U=Object(r.useState)(""),G=Object(b.a)(U,2),J=G[0],M=G[1],q=Object(r.useState)(void 0),Y=Object(b.a)(q,2),Q=Y[0],X=Y[1],$=Object(r.useState)(null),te=Object(b.a)($,2),ae=te[0],ie=te[1],oe=Object(r.useState)(null),le=Object(b.a)(oe,2),de=le[0],ue=le[1],je=Object(r.useState)(null),be=Object(b.a)(je,2),pe=be[0],he=be[1],fe=Object(r.useContext)(Ye).fetched,Oe=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===fe.data[t]){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,z(t,{limit:100});case 5:n=e.sent,fe.UpdateData(n.docs.map((function(e){return e._id})),t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();if(Object(r.useEffect)((function(){void 0!==ne[t]&&Object.values(ne[t]).forEach((function(e){return Oe(e)}))}),[]),Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,n,a=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.prev=1,e.next=4,z("features",t);case 4:n=e.sent,K(n.docs.map((function(e){return e._id}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();e({limit:100})}),[e,i]),void 0===Z[t])return Object(se.jsx)("div",{children:"This entity cannot be posted"});var ve=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n,a,r,s,i,c,l;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.value,a={_id:n},r={filter:JSON.stringify(a)},e.next=6,z("features",r);case 6:return s=e.sent,i=s.docs[0],c=i.items,l=xe([],c),j(l),x(c),M(n),e.abrupt("return");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(e,t){var n=[],a=Nt(e);return t.forEach((function(e){"number"===e.type?0===e.dimension?n.push({name:e.name,value:NaN,type:e.type}):n.push([{name:e.name,value:NaN,type:e.type}]):"text"===e.type?0===e.dimension?n.push({name:e.name,value:"",type:e.type}):n.push([{name:e.name,value:"",type:e.type}]):"enum"===e.type&&(0===e.dimension?n.push({name:e.name,value:"",enumValues:e.range,type:e.type}):n.push([{name:e.name,value:"",enumValues:e.range,type:e.type}]))})),a.push({values:n}),a},ge=function(){var e=Object(l.a)(Object(o.a)().mark((function e(n){var a,r,s,i,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=void 0,r=Nt(I),console.log(u),s=u.map((function(e){return{values:e.values.map((function(e){return e.value}))}})),void 0!==r.token&&(a=r.token,delete r.token),me(r),r.feature=J,r.samples=s,e.prev=9,e.next=12,A(t,JSON.stringify(r),a);case 12:c=e.sent,i=c.response,F(i.statusText),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(9),console.log(e.t0),i=e.t0.error.response,F(e.t0.error.response.data.message+" : "+e.t0.error.response.data.details);case 22:200===i.status&&!0===window.confirm("Back to resource page?")&&g("/"+t);case 23:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(t){return e.apply(this,arguments)}}(),ye=function(e){e.preventDefault(),g(-1)},we=function(){var e=Object(l.a)(Object(o.a)().mark((function e(n){var a,r,s,i;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!Q.name.endsWith(".csv")){e.next=17;break}return(r=new FormData).append("file",Q),e.prev=4,e.next=7,C(t,r);case 7:s=e.sent,a=s.response,F(a.statusText),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0),a=e.t0.error.response,F(e.t0.error.response.data.message+" : "+e.t0.error.response.data.details);case 17:if(!Q.name.endsWith(".json")){e.next=31;break}return e.prev=18,e.next=21,A(t,pe,void 0);case 21:i=e.sent,a=i.response,F(a.statusText),e.next=31;break;case 26:e.prev=26,e.t1=e.catch(18),console.log(e.t1),a=e.t1.error.response,F(e.t1.error.response.data.message+" : "+e.t1.error.response.data.details);case 31:200===a.status&&!0===window.confirm("Back to resource page?")&&g("/"+t);case 32:case"end":return e.stop()}}),e,null,[[4,12],[18,26]])})));return function(t){return e.apply(this,arguments)}}();return Object(se.jsxs)("div",{className:"page",children:[Object(se.jsxs)("header",{className:"page-header",children:["Add resource \xa0",Object(se.jsx)("b",{children:t})]}),Object(se.jsxs)("main",{className:"page-content",children:[Object(se.jsxs)(vt.a,{justify:!0,variant:"tabs",className:"justify-content-center",onSelect:function(e){return S(e)},defaultActiveKey:"form",children:[ee[t].includes("form")&&Object(se.jsx)(vt.a.Item,{children:Object(se.jsx)(vt.a.Link,{eventKey:"form",children:"Form"})}),ee[t].includes("file")&&null===i.get("from")&&Object(se.jsx)(vt.a.Item,{children:Object(se.jsx)(vt.a.Link,{eventKey:"file",children:"File"})})]}),Object(se.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:"2px",borderStyle:"solid",borderColor:"rgba(18, 54, 81, 0.9)",borderWidth:"1px",width:"100%",height:"fit-content"},children:["form"===k&&void 0!==H&&Object(se.jsxs)("div",{style:{margin:"5px"},children:[Object(se.jsxs)(ce.a.Select,{"aria-label":re().select+" feature",onChange:ve,value:J,children:[Object(se.jsxs)("option",{children:[re().select," feature"]}),s.a.Children.toArray(H.map((function(e){return Object(se.jsx)("option",{value:e,children:e})})))]}),Object(se.jsx)("hr",{}),Object(se.jsxs)(We.a,{fluid:!0,children:[Object(se.jsx)(Ve.a,{children:Object(se.jsxs)("b",{children:["Samples :",u.length]})}),Object(se.jsx)("br",{}),s.a.Children.toArray(u.map((function(e,t){return Object(se.jsx)(Ve.a,{style:{padding:10},children:Object(se.jsx)(Fe.a,{defaultActiveKey:"0",children:Object(se.jsxs)(Fe.a.Item,{eventKey:t,children:[Object(se.jsx)(Fe.a.Header,{children:Object(se.jsx)("b",{children:Object(se.jsxs)("i",{children:["Sample [",t,"]"]})})}),Object(se.jsx)(Fe.a.Body,{children:s.a.Children.toArray(Object.values(e.values).map((function(e){return Object(se.jsxs)(Ve.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px",padding:10},children:[Object(se.jsx)(He.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(se.jsx)("b",{children:Object(se.jsx)("i",{children:e.name})})}),Object(se.jsx)(He.a,{sm:2,children:"enum"===e.type?Object(se.jsxs)(ce.a.Select,{"aria-label":re().select+" "+e.name,onChange:function(t){t.preventDefault(),e.value=t.target.value},children:[Object(se.jsx)("option",{value:"",children:re().select+" "+e.name}),s.a.Children.toArray(e.enumValues.map((function(e){return Object(se.jsx)("option",{value:e,children:e})})))]}):"text"===e.type?Object(se.jsx)(ce.a.Control,{type:"text",id:e.name,onChange:function(t){t.preventDefault(),e.value=t.target.value},"aria-label":re().enter+" "+e.name}):Object(se.jsx)(ce.a.Control,{type:"number",id:e.name,onChange:function(t){t.preventDefault(),e.value=parseInt(t.target.value,10)},"aria-label":re().enter+" "+e.name})})]})})))})]})})})}))),0!==u.length&&Object(se.jsx)(f.a,{variant:"link",onClick:function(){var e=xe(u,v);j(e)},children:Object(se.jsx)("i",{className:"fa fa-plus-circle","aria-hidden":"true",title:"Add sample",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})]}),Object(se.jsx)("hr",{}),Object(se.jsx)("br",{}),Object(se.jsx)(lt,{values:I,resource:t,functionalFields:Z,disabledFields:E,handleChangesCallback:function(e,n){var a,r=Nt(I),s=r,i=-1;for(a=0;a<n.length-1;a++)s=s[n[a]],"number"===typeof n[a]&&(i=a);if("number"===typeof n[a]&&(i=a),s[n[a]]=e,-1!==i){var c="number"===typeof e?NaN:"";r=bt(r,n.slice(0,i),Z,t,c)}R(r)},arrayDeleteCallback:function(e){var n,a=Nt(I),r=a;for(n=0;n<e.length-1&&void 0!==e[n];n++)r=r[e[n]];var s="number"===typeof r.splice(e[n],1)[0]?NaN:"";a=bt(a,e.slice(0,n),Z,t,s),R(a)},submitFunction:ge,backFunction:ye}),Object(se.jsx)("br",{}),Object(se.jsx)("font",{style:{marginLeft:"5px"},children:D})]}),"file"===k&&Object(se.jsxs)("div",{style:{margin:"5px"},children:[Object(se.jsx)(xt,{submitFunction:we,backFunction:ye,setContentBody:ue,setContentHeader:ie,setContentPlain:he,setFile:X,contentPlain:pe,contentHeader:ae,contentBody:de}),Object(se.jsx)("font",{style:{marginLeft:"5px"},children:D})]})]})]})]})}var At=function(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)(),f=Object(b.a)(c,2),O=f[0],m=f[1],v=Object(r.useState)({}),x=Object(b.a)(v,2),g=x[0],w=x[1],k=s.a.useRef(),C=localStorage.getItem("token");function S(e){i((function(t){return[e].concat(t)}))}function N(e){var t=Object(j.a)(n);t.splice(e,1),i(t)}function _(){i([])}console.log(window.location.origin),a=void 0!==H?H:(window.location.origin.includes("localhost")?window.location.origin.slice(0,window.location.origin.indexOf(":",8)).replace("http:","https:"):window.location.origin)+"/v1";var A={notifications:n,PushNotification:S,RemoveNotification:N,ClearNotifications:_};y.ClearNotifications=_,y.PushNotification=S,y.RemoveNotification=N,Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z("types",{},{},"");case 3:t=e.sent,m(t.response.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();if(void 0===O)try{e()}catch(t){console.log(t)}}),[]);var D={types:O,data:g,UpdateData:function(e,t){w((function(n){return Object(u.a)(Object(u.a)({},n),{},Object(d.a)({},t,Object(j.a)(e)))}))}};return 1==/Mobi/i.test(window.navigator.userAgent)?k.current="vertical":k.current=G,null===C?Object(se.jsx)("div",{className:"app",children:Object(se.jsx)(p.a,{children:Object(se.jsxs)(h.d,{children:[Object(se.jsx)(h.b,{path:"/",element:Object(se.jsx)(ue,{})}),Object(se.jsx)(h.b,{path:"/add/tenants",element:Object(se.jsx)(yt,{resource:"tenants"})})]})})}):Object(se.jsx)(Ye.Provider,{value:{notifications:A,fetched:D},children:Object(se.jsx)(p.a,{children:Object(se.jsxs)(We.a,{fluid:!0,style:{paddingLeft:0,paddingRight:0,height:"100vh"},children:["horizontal"===k.current?Object(se.jsx)(Ve.a,{style:{padding:0},children:Object(se.jsx)(st,{})}):"",Object(se.jsxs)(Ve.a,{style:{padding:0},children:["vertical"===k.current?Object(se.jsx)(He.a,{md:"auto",style:{padding:0,minWidth:"250px"},children:Object(se.jsx)(Ae,{})}):"",1==/Mobi/i.test(window.navigator.userAgent)&&Object(se.jsx)(He.a,{md:"auto",style:{padding:0},children:Object(se.jsx)(Xe,{})}),Object(se.jsx)(He.a,{style:{paddingLeft:0,paddingRight:0},children:Object(se.jsxs)(h.d,{children:[Object(se.jsx)(h.b,{path:"/",element:Object(se.jsx)(je,{})}),Object(se.jsx)(h.b,{path:"/home",element:Object(se.jsx)(je,{})}),Object(se.jsx)(h.b,{path:"/viewProfile",element:Object(se.jsx)(Ke,{})}),Object(se.jsx)(h.b,{path:"/add/experiments/",element:Object(se.jsx)(kt,{})}),Object(se.jsx)(h.b,{path:"/add/measurements/",element:Object(se.jsx)(_t,{})}),Object(se.jsx)(h.b,{path:"/edit/:resource/:id",element:Object(se.jsx)(mt,{})}),Object(se.jsx)(h.b,{path:"/versions/:resource/:id",element:Object(se.jsx)(ft,{})}),Object(se.jsx)(h.b,{path:"/add/:type/:resource/:id",element:Object(se.jsx)(St,{})}),Object(se.jsx)(h.b,{path:"/add/:resource/",element:Object(se.jsx)(yt,{})}),Object(se.jsx)(h.b,{path:"/:page",element:Object(se.jsx)(Ee,{res:":page"})}),Object(se.jsx)(h.b,{path:"/unauthorized",element:Object(se.jsx)(Ue,{})}),Object(se.jsx)(h.b,{path:"/404",element:Object(se.jsx)(be,{})}),Object(se.jsx)(h.b,{path:"*",element:Object(se.jsx)(h.a,{to:"/404",replace:!0})})]})}),"vertical"===k.current&&0==/Mobi/i.test(window.navigator.userAgent)&&Object(se.jsx)(He.a,{md:"auto",style:{paddingLeft:0,paddingRight:0},children:Object(se.jsx)(Xe,{})})]})]})})})};c.a.render(Object(se.jsx)(s.a.StrictMode,{children:Object(se.jsx)(At,{})}),document.getElementById("root"))}},[[280,1,2]]]);
//# sourceMappingURL=main.43a5a6f7.chunk.js.map